<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Introduction to R programming | DRAFT - Integrated soil information for decision-making </title>
  <meta name="description" content="SoilFER SID Technical Manual" />
  <meta name="generator" content="bookdown 0.42 and GitBook 2.6.7" />

  <meta property="og:title" content="Introduction to R programming | DRAFT - Integrated soil information for decision-making " />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="SoilFER SID Technical Manual" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Introduction to R programming | DRAFT - Integrated soil information for decision-making " />
  
  <meta name="twitter:description" content="SoilFER SID Technical Manual" />
  

<meta name="author" content="Angelini, M.E., Rodriguez Lado, L., de Sousa Mendes, W., Ribeiro, E., Luotto, I." />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="presentation-and-basics.html"/>
<link rel="next" href="data-preparation-for-digital-soil-mapping-in-r.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Licence</a></li>
<li class="chapter" data-level="" data-path="abbreviations-and-acronyms.html"><a href="abbreviations-and-acronyms.html"><i class="fa fa-check"></i>Abbreviations and acronyms</a></li>
<li class="chapter" data-level="" data-path="contributors-and-reviewers.html"><a href="contributors-and-reviewers.html"><i class="fa fa-check"></i>Contributors and reviewers</a></li>
<li class="chapter" data-level="" data-path="presentation-and-basics.html"><a href="presentation-and-basics.html"><i class="fa fa-check"></i>Presentation and basics</a>
<ul>
<li class="chapter" data-level="" data-path="presentation-and-basics.html"><a href="presentation-and-basics.html#background-and-objective"><i class="fa fa-check"></i>Background and Objective</a></li>
<li class="chapter" data-level="" data-path="presentation-and-basics.html"><a href="presentation-and-basics.html#what-this-tutorial-is-not"><i class="fa fa-check"></i>What this Tutorial is not</a></li>
<li class="chapter" data-level="" data-path="presentation-and-basics.html"><a href="presentation-and-basics.html#the-training-dataset"><i class="fa fa-check"></i>The Training Dataset</a>
<ul>
<li class="chapter" data-level="" data-path="presentation-and-basics.html"><a href="presentation-and-basics.html#data-structure"><i class="fa fa-check"></i>Data Structure</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="presentation-and-basics.html"><a href="presentation-and-basics.html#how-to-use-this-manual"><i class="fa fa-check"></i>How to Use This Manual</a>
<ul>
<li class="chapter" data-level="" data-path="presentation-and-basics.html"><a href="presentation-and-basics.html#manual-structure"><i class="fa fa-check"></i>Manual Structure</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="presentation-and-basics.html"><a href="presentation-and-basics.html#required-downloads"><i class="fa fa-check"></i>Required downloads</a>
<ul>
<li class="chapter" data-level="" data-path="presentation-and-basics.html"><a href="presentation-and-basics.html#step-by-step-setup-instructions"><i class="fa fa-check"></i>Step-by-step setup instructions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html"><i class="fa fa-check"></i>Introduction to R programming</a>
<ul>
<li class="chapter" data-level="0.1" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#what-is-r"><i class="fa fa-check"></i><b>0.1</b> What is R?</a>
<ul>
<li class="chapter" data-level="0.1.1" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#why-r-for-soil-science"><i class="fa fa-check"></i><b>0.1.1</b> Why R for Soil Science?</a></li>
</ul></li>
<li class="chapter" data-level="0.2" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#installing-r-and-rstudio"><i class="fa fa-check"></i><b>0.2</b> Installing R and RStudio</a>
<ul>
<li class="chapter" data-level="0.2.1" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#installing-r"><i class="fa fa-check"></i><b>0.2.1</b> Installing R</a></li>
<li class="chapter" data-level="0.2.2" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#installing-rstudio"><i class="fa fa-check"></i><b>0.2.2</b> Installing RStudio</a></li>
<li class="chapter" data-level="0.2.3" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#verifying-installation"><i class="fa fa-check"></i><b>0.2.3</b> Verifying Installation</a></li>
</ul></li>
<li class="chapter" data-level="0.3" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#understanding-the-rstudio-interface"><i class="fa fa-check"></i><b>0.3</b> Understanding the RStudio Interface</a>
<ul>
<li class="chapter" data-level="0.3.1" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#console-pane-bottom-left"><i class="fa fa-check"></i><b>0.3.1</b> 1. Console Pane (Bottom Left)</a></li>
<li class="chapter" data-level="0.3.2" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#code-editor-pane-top-left"><i class="fa fa-check"></i><b>0.3.2</b> 2. Code Editor Pane (Top Left)</a></li>
<li class="chapter" data-level="0.3.3" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#environmenthistory-pane-top-right"><i class="fa fa-check"></i><b>0.3.3</b> 3. Environment/History Pane (Top Right)</a></li>
<li class="chapter" data-level="0.3.4" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#filesplotspackageshelp-pane-bottom-right"><i class="fa fa-check"></i><b>0.3.4</b> 4. Files/Plots/Packages/Help Pane (Bottom Right)</a></li>
</ul></li>
<li class="chapter" data-level="0.4" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#r-packages-extending-rs-capabilities"><i class="fa fa-check"></i><b>0.4</b> R Packages: Extending R’s Capabilities</a>
<ul>
<li class="chapter" data-level="0.4.1" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#what-are-packages"><i class="fa fa-check"></i><b>0.4.1</b> What are Packages?</a></li>
<li class="chapter" data-level="0.4.2" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#installing-packages"><i class="fa fa-check"></i><b>0.4.2</b> Installing Packages</a></li>
<li class="chapter" data-level="0.4.3" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#loading-packages"><i class="fa fa-check"></i><b>0.4.3</b> Loading Packages</a></li>
<li class="chapter" data-level="0.4.4" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#finding-help-on-packages"><i class="fa fa-check"></i><b>0.4.4</b> Finding Help on Packages</a></li>
</ul></li>
<li class="chapter" data-level="0.5" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#object-types"><i class="fa fa-check"></i><b>0.5</b> R Basics: Objects and Data Types</a>
<ul>
<li class="chapter" data-level="0.5.1" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#object-assignment"><i class="fa fa-check"></i><b>0.5.1</b> Creating Objects with Assignment</a></li>
<li class="chapter" data-level="0.5.2" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#data-types"><i class="fa fa-check"></i><b>0.5.2</b> Data Types in R</a></li>
<li class="chapter" data-level="0.5.3" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#check-data"><i class="fa fa-check"></i><b>0.5.3</b> Checking Data Types</a></li>
</ul></li>
<li class="chapter" data-level="0.6" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#structure-data"><i class="fa fa-check"></i><b>0.6</b> Data Structures in R</a>
<ul>
<li class="chapter" data-level="0.6.1" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#vector-data"><i class="fa fa-check"></i><b>0.6.1</b> Vectors</a></li>
<li class="chapter" data-level="0.6.2" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#factor-data"><i class="fa fa-check"></i><b>0.6.2</b> Factors</a></li>
<li class="chapter" data-level="0.6.3" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#matrix-data"><i class="fa fa-check"></i><b>0.6.3</b> Matrices</a></li>
<li class="chapter" data-level="0.6.4" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#dataframe"><i class="fa fa-check"></i><b>0.6.4</b> Data Frames</a></li>
<li class="chapter" data-level="0.6.5" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#list-data"><i class="fa fa-check"></i><b>0.6.5</b> Lists</a></li>
</ul></li>
<li class="chapter" data-level="0.7" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#operators"><i class="fa fa-check"></i><b>0.7</b> Operators in R</a>
<ul>
<li class="chapter" data-level="0.7.1" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#arithmetic-operators"><i class="fa fa-check"></i><b>0.7.1</b> Arithmetic Operators</a></li>
<li class="chapter" data-level="0.7.2" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#comparison-operators"><i class="fa fa-check"></i><b>0.7.2</b> Comparison Operators</a></li>
<li class="chapter" data-level="0.7.3" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#logical-operators"><i class="fa fa-check"></i><b>0.7.3</b> Logical Operators</a></li>
</ul></li>
<li class="chapter" data-level="0.8" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#conditional-statements"><i class="fa fa-check"></i><b>0.8</b> Control Structures: Conditional Statements</a>
<ul>
<li class="chapter" data-level="0.8.1" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#ifelse-statements"><i class="fa fa-check"></i><b>0.8.1</b> If-Else Statements</a></li>
<li class="chapter" data-level="0.8.2" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#v-ifelse-statements"><i class="fa fa-check"></i><b>0.8.2</b> Vectorized If-Else: <code>ifelse()</code></a></li>
<li class="chapter" data-level="0.8.3" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#cut-statements"><i class="fa fa-check"></i><b>0.8.3</b> Vectorized Cut: <code>cut()</code></a></li>
</ul></li>
<li class="chapter" data-level="0.9" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#control-structures"><i class="fa fa-check"></i><b>0.9</b> Control Structures: Loops</a>
<ul>
<li class="chapter" data-level="0.9.1" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#for-loop"><i class="fa fa-check"></i><b>0.9.1</b> For Loops</a></li>
<li class="chapter" data-level="0.9.2" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#while-loop"><i class="fa fa-check"></i><b>0.9.2</b> While Loops</a></li>
</ul></li>
<li class="chapter" data-level="0.10" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#r-funtions"><i class="fa fa-check"></i><b>0.10</b> Functions in R</a>
<ul>
<li class="chapter" data-level="0.10.1" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#built-funtions"><i class="fa fa-check"></i><b>0.10.1</b> Using Built-in Functions</a></li>
<li class="chapter" data-level="0.10.2" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#build-functions"><i class="fa fa-check"></i><b>0.10.2</b> Creating Custom Functions</a></li>
<li class="chapter" data-level="0.10.3" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#arguments-functions"><i class="fa fa-check"></i><b>0.10.3</b> Function Arguments and Defaults</a></li>
</ul></li>
<li class="chapter" data-level="0.11" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#R-data-manipulation"><i class="fa fa-check"></i><b>0.11</b> Data Manipulation with Base R</a>
<ul>
<li class="chapter" data-level="0.11.1" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#R-data-subset"><i class="fa fa-check"></i><b>0.11.1</b> Subsetting and Filtering</a></li>
<li class="chapter" data-level="0.11.2" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#delete-cols"><i class="fa fa-check"></i><b>0.11.2</b> Deleting Columns</a></li>
<li class="chapter" data-level="0.11.3" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#sort-rows"><i class="fa fa-check"></i><b>0.11.3</b> Sorting Data</a></li>
<li class="chapter" data-level="0.11.4" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#aggregate-rows"><i class="fa fa-check"></i><b>0.11.4</b> Aggregating Data</a></li>
</ul></li>
<li class="chapter" data-level="0.12" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#tidyverse-manipultation"><i class="fa fa-check"></i><b>0.12</b> Data Manipulation with the Tidyverse</a>
<ul>
<li class="chapter" data-level="0.12.1" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#tidyverse-load"><i class="fa fa-check"></i><b>0.12.1</b> Loading the Tidyverse</a></li>
<li class="chapter" data-level="0.12.2" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#tidyverse-tibbles"><i class="fa fa-check"></i><b>0.12.2</b> Tibbles: Modern Data Frames</a></li>
<li class="chapter" data-level="0.12.3" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#tidyverse-pipe"><i class="fa fa-check"></i><b>0.12.3</b> The Pipe Operator: <code>%&gt;%</code></a></li>
<li class="chapter" data-level="0.12.4" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#manipulation-dplyr"><i class="fa fa-check"></i><b>0.12.4</b> Data Manipulation with <code>{dplyr}</code></a></li>
<li class="chapter" data-level="0.12.5" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#dplyr-rename"><i class="fa fa-check"></i><b>0.12.5</b> Renaming Columns with <code>rename()</code></a></li>
<li class="chapter" data-level="0.12.6" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#dplyr-group"><i class="fa fa-check"></i><b>0.12.6</b> Grouping and Summarizing Data by columns</a></li>
</ul></li>
<li class="chapter" data-level="0.13" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#dplyr-join"><i class="fa fa-check"></i><b>0.13</b> Combining Data Frames</a>
<ul>
<li class="chapter" data-level="0.13.1" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#understand-joins"><i class="fa fa-check"></i><b>0.13.1</b> Understanding Joins</a></li>
<li class="chapter" data-level="0.13.2" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#dplyr-bind_rows"><i class="fa fa-check"></i><b>0.13.2</b> Stacking Data with <code>bind_rows()</code></a></li>
</ul></li>
<li class="chapter" data-level="0.14" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#NA"><i class="fa fa-check"></i><b>0.14</b> Missing Data</a>
<ul>
<li class="chapter" data-level="0.14.1" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#identify-NA"><i class="fa fa-check"></i><b>0.14.1</b> Identifying Missing Data</a></li>
<li class="chapter" data-level="0.14.2" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#handle-NA"><i class="fa fa-check"></i><b>0.14.2</b> Handling Missing Data</a></li>
</ul></li>
<li class="chapter" data-level="0.15" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#pivoting"><i class="fa fa-check"></i><b>0.15</b> Data Reshaping with <code>{tidyr}</code> package: Pivoting</a></li>
<li class="chapter" data-level="0.16" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#dl-data"><i class="fa fa-check"></i><b>0.16</b> Handling Below Detection Limit Data</a></li>
<li class="chapter" data-level="0.17" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#soil-data"><i class="fa fa-check"></i><b>0.17</b> Working with Soil Data</a>
<ul>
<li class="chapter" data-level="0.17.1" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#set-directory"><i class="fa fa-check"></i><b>0.17.1</b> Setting Working Directory</a></li>
<li class="chapter" data-level="0.17.2" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#load-packages"><i class="fa fa-check"></i><b>0.17.2</b> Load packages</a></li>
<li class="chapter" data-level="0.17.3" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#import-files"><i class="fa fa-check"></i><b>0.17.3</b> Importing Data from Files</a></li>
<li class="chapter" data-level="0.17.4" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#data-exploration"><i class="fa fa-check"></i><b>0.17.4</b> Exploring the Data</a></li>
</ul></li>
<li class="chapter" data-level="0.18" data-path="introduction-to-r-programming.html"><a href="introduction-to-r-programming.html#references-m1"><i class="fa fa-check"></i><b>0.18</b> References</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html"><i class="fa fa-check"></i><b>1</b> Data preparation for Digital Soil Mapping in R</a>
<ul>
<li class="chapter" data-level="1.1" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#introduction-1"><i class="fa fa-check"></i><b>1.1</b> Introduction</a></li>
<li class="chapter" data-level="1.2" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#loading-data"><i class="fa fa-check"></i><b>1.2</b> Loading and exploring raw soil data</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#basic-data-loading-and-structure"><i class="fa fa-check"></i><b>1.2.1</b> Basic data loading and structure</a></li>
<li class="chapter" data-level="1.2.2" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#data-components-and-organization"><i class="fa fa-check"></i><b>1.2.2</b> Data components and organization</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#site-data-preparation"><i class="fa fa-check"></i><b>1.3</b> Preparing site data for analysis</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#adding-a-unique-row-identifier"><i class="fa fa-check"></i><b>1.3.1</b> Adding a unique row identifier</a></li>
<li class="chapter" data-level="1.3.2" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#extracting-and-standardizing-column-names-for-sites"><i class="fa fa-check"></i><b>1.3.2</b> Extracting and standardizing column names for sites</a></li>
<li class="chapter" data-level="1.3.3" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#creating-unique-profile-identifiers"><i class="fa fa-check"></i><b>1.3.3</b> Creating unique profile identifiers</a></li>
<li class="chapter" data-level="1.3.4" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#remove-exact-duplicate-site-records"><i class="fa fa-check"></i><b>1.3.4</b> Remove exact duplicate site records</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#coordinate-validation"><i class="fa fa-check"></i><b>1.4</b> Coordinate validation and correction</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#check-1-missing-coordinates"><i class="fa fa-check"></i><b>1.4.1</b> Check 1: Missing coordinates</a></li>
<li class="chapter" data-level="1.4.2" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#check-2-valid-coordinate-ranges"><i class="fa fa-check"></i><b>1.4.2</b> Check 2: Valid coordinate ranges</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#depth-validation"><i class="fa fa-check"></i><b>1.5</b> Soil depth validation and correction</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#check-1-missing-depth-boundaries"><i class="fa fa-check"></i><b>1.5.1</b> Check 1: Missing depth boundaries</a></li>
<li class="chapter" data-level="1.5.2" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#check-2-negative-depth-values"><i class="fa fa-check"></i><b>1.5.2</b> Check 2: Negative depth values</a></li>
<li class="chapter" data-level="1.5.3" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#check-3-zero-thickness-intervals"><i class="fa fa-check"></i><b>1.5.3</b> Check 3: Zero-thickness intervals</a></li>
<li class="chapter" data-level="1.5.4" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#check-4-invalid-depth-logic"><i class="fa fa-check"></i><b>1.5.4</b> Check 4: Invalid depth logic</a></li>
<li class="chapter" data-level="1.5.5" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#check-5-profiles-without-a-surface-horizon-top-0"><i class="fa fa-check"></i><b>1.5.5</b> Check 5: Profiles without a surface horizon (top &gt; 0)</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#lab-validation"><i class="fa fa-check"></i><b>1.6</b> Preparing lab data: harmonization and validation</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#prepare-and-standardize-laboratory-columns"><i class="fa fa-check"></i><b>1.6.1</b> Prepare and standardize laboratory columns</a></li>
<li class="chapter" data-level="1.6.2" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#check-1-check-each-property-against-feasible-analytical-thresholds"><i class="fa fa-check"></i><b>1.6.2</b> Check 1: Check each property against feasible analytical thresholds</a></li>
<li class="chapter" data-level="1.6.3" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#check-2-texture-validation"><i class="fa fa-check"></i><b>1.6.3</b> Check 2: Texture validation</a></li>
<li class="chapter" data-level="1.6.4" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#check-3-correction-of-out-of-bounds-laboratory-values"><i class="fa fa-check"></i><b>1.6.4</b> Check 3: Correction of out-of-bounds laboratory values</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#duplicate-detection"><i class="fa fa-check"></i><b>1.7</b> Resolving duplicated data in soil profiles</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#why-duplicates-occur"><i class="fa fa-check"></i><b>1.7.1</b> Why duplicates occur</a></li>
<li class="chapter" data-level="1.7.2" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#types-of-duplicate-situations"><i class="fa fa-check"></i><b>1.7.2</b> Types of duplicate situations</a></li>
<li class="chapter" data-level="1.7.3" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#check-1-detect-potential-horizon-duplicates-within-profiles"><i class="fa fa-check"></i><b>1.7.3</b> Check 1: Detect potential horizon duplicates within profiles</a></li>
<li class="chapter" data-level="1.7.4" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#resolving-profile-duplicates"><i class="fa fa-check"></i><b>1.7.4</b> Resolving Profile Duplicates</a></li>
<li class="chapter" data-level="1.7.5" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#remove-profiles-not-starting-at-the-surface"><i class="fa fa-check"></i><b>1.7.5</b> Remove profiles not starting at the surface</a></li>
<li class="chapter" data-level="1.7.6" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#result"><i class="fa fa-check"></i><b>1.7.6</b> Result</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#harmonization"><i class="fa fa-check"></i><b>1.8</b> Harmonizing data for DSM</a>
<ul>
<li class="chapter" data-level="1.8.1" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#depth-standardization"><i class="fa fa-check"></i><b>1.8.1</b> Depth standardization</a></li>
<li class="chapter" data-level="1.8.2" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#processing-standardized-data"><i class="fa fa-check"></i><b>1.8.2</b> Processing standardized data</a></li>
<li class="chapter" data-level="1.8.3" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#exporting-standardized-data-for-digital-soil-mapping"><i class="fa fa-check"></i><b>1.8.3</b> Exporting standardized data for Digital Soil Mapping</a></li>
</ul></li>
<li class="chapter" data-level="1.9" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#spectroscopy"><i class="fa fa-check"></i><b>1.9</b> Preparing data for spectroscopy analyses</a></li>
<li class="chapter" data-level="1.10" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#exports"><i class="fa fa-check"></i><b>1.10</b> Summary of exported files</a></li>
<li class="chapter" data-level="" data-path="data-preparation-for-digital-soil-mapping-in-r.html"><a href="data-preparation-for-digital-soil-mapping-in-r.html#references"><i class="fa fa-check"></i>References</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="spatial-analysis-in-r.html"><a href="spatial-analysis-in-r.html"><i class="fa fa-check"></i><b>2</b> Spatial Analysis in R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="spatial-analysis-in-r.html"><a href="spatial-analysis-in-r.html#spatial-data-concepts"><i class="fa fa-check"></i><b>2.1</b> Spatial Data Concepts</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="spatial-analysis-in-r.html"><a href="spatial-analysis-in-r.html#vector-vs-raster-data"><i class="fa fa-check"></i><b>2.1.1</b> Vector vs Raster Data</a></li>
<li class="chapter" data-level="2.1.2" data-path="spatial-analysis-in-r.html"><a href="spatial-analysis-in-r.html#coordinate-reference-systems-crs-and-projections"><i class="fa fa-check"></i><b>2.1.2</b> Coordinate Reference Systems (CRS) and Projections</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="spatial-analysis-in-r.html"><a href="spatial-analysis-in-r.html#spatial-packages-in-r-sf-and-terra"><i class="fa fa-check"></i><b>2.2</b> Spatial Packages in R: <code>{sf}</code> and <code>{terra}</code></a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="spatial-analysis-in-r.html"><a href="spatial-analysis-in-r.html#installing-and-loading-spatial-packages"><i class="fa fa-check"></i><b>2.2.1</b> Installing and Loading Spatial Packages</a></li>
<li class="chapter" data-level="2.2.2" data-path="spatial-analysis-in-r.html"><a href="spatial-analysis-in-r.html#working-with-vector-data-using-sf"><i class="fa fa-check"></i><b>2.2.2</b> Working with Vector Data using <code>{sf}</code></a></li>
<li class="chapter" data-level="2.2.3" data-path="spatial-analysis-in-r.html"><a href="spatial-analysis-in-r.html#importing-vector-data"><i class="fa fa-check"></i><b>2.2.3</b> Importing Vector Data</a></li>
<li class="chapter" data-level="2.2.4" data-path="spatial-analysis-in-r.html"><a href="spatial-analysis-in-r.html#spatial-relationships-and-joins"><i class="fa fa-check"></i><b>2.2.4</b> Spatial Relationships and Joins</a></li>
<li class="chapter" data-level="2.2.5" data-path="spatial-analysis-in-r.html"><a href="spatial-analysis-in-r.html#importing-raster-data"><i class="fa fa-check"></i><b>2.2.5</b> Importing Raster Data</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="spatial-analysis-in-r.html"><a href="spatial-analysis-in-r.html#combining-vector-and-raster-data"><i class="fa fa-check"></i><b>2.3</b> Combining Vector and Raster Data</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="spatial-analysis-in-r.html"><a href="spatial-analysis-in-r.html#extracting-raster-values-to-points-and-polygons"><i class="fa fa-check"></i><b>2.3.1</b> Extracting Raster Values to Points and Polygons</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="spatial-analysis-in-r.html"><a href="spatial-analysis-in-r.html#exporting-and-sharing-spatial-data"><i class="fa fa-check"></i><b>2.4</b> Exporting and Sharing Spatial Data</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="spatial-analysis-in-r.html"><a href="spatial-analysis-in-r.html#exporting-vector-data"><i class="fa fa-check"></i><b>2.4.1</b> Exporting Vector Data</a></li>
<li class="chapter" data-level="2.4.2" data-path="spatial-analysis-in-r.html"><a href="spatial-analysis-in-r.html#exporting-raster-data"><i class="fa fa-check"></i><b>2.4.2</b> Exporting Raster Data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html"><i class="fa fa-check"></i><b>3</b> Sampling design for soil surveys</a>
<ul>
<li class="chapter" data-level="3.1" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#introduction"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#sampling-theory"><i class="fa fa-check"></i><b>3.2</b> Sampling methodologies for soil spatial survey</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#selection-methods"><i class="fa fa-check"></i><b>3.2.1</b> Selection of the sampling methodology</a></li>
<li class="chapter" data-level="3.2.2" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#inference-methods"><i class="fa fa-check"></i><b>3.2.2</b> Inference Methods</a></li>
<li class="chapter" data-level="3.2.3" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#sampling-purpose"><i class="fa fa-check"></i><b>3.2.3</b> Purpose of Sampling</a></li>
<li class="chapter" data-level="3.2.4" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#design-types"><i class="fa fa-check"></i><b>3.2.4</b> Sampling Design Types</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#soilfer-design"><i class="fa fa-check"></i><b>3.3</b> SoilFER Sampling Design</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#soil-properties"><i class="fa fa-check"></i><b>3.3.1</b> Soil Properties</a></li>
<li class="chapter" data-level="3.3.2" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#env-covariates"><i class="fa fa-check"></i><b>3.3.2</b> Environmental Covariates</a></li>
<li class="chapter" data-level="3.3.3" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#methodology"><i class="fa fa-check"></i><b>3.3.3</b> Understanding the Methodology</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#tutorial"><i class="fa fa-check"></i><b>3.4</b> Tutorial Using R</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#setup"><i class="fa fa-check"></i><b>3.4.1</b> Setting Up the Environment</a></li>
<li class="chapter" data-level="3.4.2" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#define-parameters"><i class="fa fa-check"></i><b>3.4.2</b> Define Variables and Parameters</a></li>
<li class="chapter" data-level="3.4.3" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#country-iso-code"><i class="fa fa-check"></i><b>3.4.3</b> Country ISO Code</a></li>
<li class="chapter" data-level="3.4.4" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#custom-functions"><i class="fa fa-check"></i><b>3.4.4</b> Custom Functions</a></li>
<li class="chapter" data-level="3.4.5" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#load-boundaries"><i class="fa fa-check"></i><b>3.4.5</b> Load Country Boundaries and Legacy Data</a></li>
<li class="chapter" data-level="3.4.6" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#load-covariates-psu"><i class="fa fa-check"></i><b>3.4.6</b> Load Environmental Covariates for PSUs</a></li>
<li class="chapter" data-level="3.4.7" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#load-main-environmental-covariates"><i class="fa fa-check"></i><b>3.4.7</b> Load Main Environmental Covariates</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#pca"><i class="fa fa-check"></i><b>3.5</b> Principal Component Analysis (PCA)</a></li>
<li class="chapter" data-level="3.6" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#sampling-universe"><i class="fa fa-check"></i><b>3.6</b> Organize the Sampling Universe</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#load-and-process-land-use-data"><i class="fa fa-check"></i><b>3.6.1</b> Load and Process Land Use Data</a></li>
<li class="chapter" data-level="3.6.2" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#exclude-protected-areas"><i class="fa fa-check"></i><b>3.6.2</b> Exclude Protected Areas</a></li>
<li class="chapter" data-level="3.6.3" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#restrict-to-accessible-slopes"><i class="fa fa-check"></i><b>3.6.3</b> Restrict to Accessible Slopes</a></li>
<li class="chapter" data-level="3.6.4" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#aggregate-to-100m-resolution"><i class="fa fa-check"></i><b>3.6.4</b> Aggregate to 100m Resolution</a></li>
<li class="chapter" data-level="3.6.5" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#save-processed-land-use"><i class="fa fa-check"></i><b>3.6.5</b> Save Processed Land Use</a></li>
<li class="chapter" data-level="3.6.6" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#filter-legacy-data"><i class="fa fa-check"></i><b>3.6.6</b> Filter Legacy Data</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#create-psu-grid"><i class="fa fa-check"></i><b>3.7</b> Create Primary Sampling Units (PSU Grid)</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#generate-2km-2km-grid"><i class="fa fa-check"></i><b>3.7.1</b> Generate 2km × 2km Grid</a></li>
<li class="chapter" data-level="3.7.2" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#trim-to-country-boundaries"><i class="fa fa-check"></i><b>3.7.2</b> Trim to Country Boundaries</a></li>
<li class="chapter" data-level="3.7.3" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#save-psu-grid"><i class="fa fa-check"></i><b>3.7.3</b> Save PSU Grid</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#select-psus"><i class="fa fa-check"></i><b>3.8</b> Select PSUs with Sufficient Land Use Coverage</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#calculate-land-use-percentage"><i class="fa fa-check"></i><b>3.8.1</b> Calculate Land Use Percentage</a></li>
<li class="chapter" data-level="3.8.2" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#filter-psus"><i class="fa fa-check"></i><b>3.8.2</b> Filter PSUs</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#rasterize-psus"><i class="fa fa-check"></i><b>3.9</b> Rasterize PSUs for Covariate Space Coverage</a></li>
<li class="chapter" data-level="3.10" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#optimal-sample-size"><i class="fa fa-check"></i><b>3.10</b> Compute Optimal Sample Size</a>
<ul>
<li class="chapter" data-level="3.10.1" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#run-optimization"><i class="fa fa-check"></i><b>3.10.1</b> Run Optimization</a></li>
<li class="chapter" data-level="3.10.2" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#extract-optimal-sample-size"><i class="fa fa-check"></i><b>3.10.2</b> Extract Optimal Sample Size</a></li>
</ul></li>
<li class="chapter" data-level="3.11" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#csc-computing"><i class="fa fa-check"></i><b>3.11</b> Covariate Space Coverage - Computing PSUs</a>
<ul>
<li class="chapter" data-level="3.11.1" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#prepare-function-parameters"><i class="fa fa-check"></i><b>3.11.1</b> Prepare Function Parameters</a></li>
<li class="chapter" data-level="3.11.2" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#perform-k-means-clustering"><i class="fa fa-check"></i><b>3.11.2</b> Perform K-means Clustering</a></li>
<li class="chapter" data-level="3.11.3" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#assign-clusters-and-calculate-distances"><i class="fa fa-check"></i><b>3.11.3</b> Assign Clusters and Calculate Distances</a></li>
<li class="chapter" data-level="3.11.4" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#extract-selected-psus"><i class="fa fa-check"></i><b>3.11.4</b> Extract Selected PSUs</a></li>
<li class="chapter" data-level="3.11.5" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#visualize-in-covariate-space"><i class="fa fa-check"></i><b>3.11.5</b> Visualize in Covariate Space</a></li>
</ul></li>
<li class="chapter" data-level="3.12" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#compute-ssu-tsu"><i class="fa fa-check"></i><b>3.12</b> Compute SSUs and TSUs</a>
<ul>
<li class="chapter" data-level="3.12.1" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#load-high-resolution-covariates"><i class="fa fa-check"></i><b>3.12.1</b> Load High-Resolution Covariates</a></li>
<li class="chapter" data-level="3.12.2" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#process-each-psu"><i class="fa fa-check"></i><b>3.12.2</b> Process Each PSU</a></li>
<li class="chapter" data-level="3.12.3" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#combine-ssus-and-tsus"><i class="fa fa-check"></i><b>3.12.3</b> Combine SSUs and TSUs</a></li>
</ul></li>
<li class="chapter" data-level="3.13" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#export-units"><i class="fa fa-check"></i><b>3.13</b> Export Sampling Units</a>
<ul>
<li class="chapter" data-level="3.13.1" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#create-cluster-raster"><i class="fa fa-check"></i><b>3.13.1</b> Create Cluster Raster</a></li>
<li class="chapter" data-level="3.13.2" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#join-cluster-info-to-tsus"><i class="fa fa-check"></i><b>3.13.2</b> Join Cluster Info to TSUs</a></li>
<li class="chapter" data-level="3.13.3" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#create-site-ids"><i class="fa fa-check"></i><b>3.13.3</b> Create Site IDs</a></li>
<li class="chapter" data-level="3.13.4" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#export-shapefiles"><i class="fa fa-check"></i><b>3.13.4</b> Export Shapefiles</a></li>
</ul></li>
<li class="chapter" data-level="3.14" data-path="sampling-design-for-soil-surveys.html"><a href="sampling-design-for-soil-surveys.html#alternative-psus"><i class="fa fa-check"></i><b>3.14</b> Compute Alternative PSUs</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="merging-results.html"><a href="merging-results.html"><i class="fa fa-check"></i><b>4</b> Merging Results from Multiple Land Uses</a>
<ul>
<li class="chapter" data-level="4.1" data-path="merging-results.html"><a href="merging-results.html#assign-unique-ids"><i class="fa fa-check"></i><b>4.1</b> Assign Country-Wide Unique IDs</a></li>
<li class="chapter" data-level="4.2" data-path="merging-results.html"><a href="merging-results.html#export-unified"><i class="fa fa-check"></i><b>4.2</b> Export Unified Datasets</a></li>
<li class="chapter" data-level="4.3" data-path="merging-results.html"><a href="merging-results.html#summary-stats"><i class="fa fa-check"></i><b>4.3</b> Summary Statistics</a></li>
<li class="chapter" data-level="4.4" data-path="merging-results.html"><a href="merging-results.html#distribution-maps"><i class="fa fa-check"></i><b>4.4</b> Create Distribution Maps</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="field-protocol.html"><a href="field-protocol.html"><i class="fa fa-check"></i><b>5</b> Field Sampling Protocol</a>
<ul>
<li class="chapter" data-level="5.1" data-path="field-protocol.html"><a href="field-protocol.html#gps-prep"><i class="fa fa-check"></i><b>5.1</b> GPS Device Preparation</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="field-protocol.html"><a href="field-protocol.html#export-to-gpx-format"><i class="fa fa-check"></i><b>5.1.1</b> Export to GPX Format</a></li>
<li class="chapter" data-level="5.1.2" data-path="field-protocol.html"><a href="field-protocol.html#load-onto-gps-device"><i class="fa fa-check"></i><b>5.1.2</b> Load onto GPS Device</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="field-protocol.html"><a href="field-protocol.html#sampling-procedure"><i class="fa fa-check"></i><b>5.2</b> Sampling Procedure</a></li>
<li class="chapter" data-level="5.3" data-path="field-protocol.html"><a href="field-protocol.html#data-recording"><i class="fa fa-check"></i><b>5.3</b> Data Recording</a></li>
<li class="chapter" data-level="5.4" data-path="field-protocol.html"><a href="field-protocol.html#qc"><i class="fa fa-check"></i><b>5.4</b> Quality Control</a></li>
<li class="chapter" data-level="5.5" data-path="field-protocol.html"><a href="field-protocol.html#references-sdg1"><i class="fa fa-check"></i><b>5.5</b> References</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="appendices.html"><a href="appendices.html"><i class="fa fa-check"></i>Appendices</a>
<ul>
<li class="chapter" data-level="" data-path="appendices.html"><a href="appendices.html#appendix-a-software-and-data-sources"><i class="fa fa-check"></i>Appendix A: Software and Data Sources</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="appendices.html"><a href="appendices.html#software-requirements"><i class="fa fa-check"></i><b>5.5.1</b> Software Requirements</a></li>
<li class="chapter" data-level="5.5.2" data-path="appendices.html"><a href="appendices.html#data-sources"><i class="fa fa-check"></i><b>5.5.2</b> Data Sources</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="appendices.html"><a href="appendices.html#appendix-b-troubleshooting-common-issues"><i class="fa fa-check"></i>Appendix B: Troubleshooting Common Issues</a>
<ul>
<li class="chapter" data-level="5.5.3" data-path="appendices.html"><a href="appendices.html#memory-issues"><i class="fa fa-check"></i><b>5.5.3</b> Memory Issues</a></li>
<li class="chapter" data-level="5.5.4" data-path="appendices.html"><a href="appendices.html#crs-misalignment"><i class="fa fa-check"></i><b>5.5.4</b> CRS Misalignment</a></li>
<li class="chapter" data-level="5.5.5" data-path="appendices.html"><a href="appendices.html#empty-geometry"><i class="fa fa-check"></i><b>5.5.5</b> Empty Geometry</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="appendices.html"><a href="appendices.html#appendix-c-acronyms-and-abbreviations"><i class="fa fa-check"></i>Appendix C: Acronyms and Abbreviations</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="tbd.html"><a href="tbd.html"><i class="fa fa-check"></i><b>6</b> TBD</a></li>
<li class="chapter" data-level="7" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html"><i class="fa fa-check"></i><b>7</b> GloSIS Soil Data Preparation</a>
<ul>
<li class="chapter" data-level="7.1" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html#introduction-2"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html#the-glosis-database"><i class="fa fa-check"></i><b>7.2</b> The GloSIS database</a></li>
<li class="chapter" data-level="7.3" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html#features-of-interest-understanding-the-xlsx-template"><i class="fa fa-check"></i><b>7.3</b> Features of interest: Understanding the XLSX Template</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html#plot-data-sheet"><i class="fa fa-check"></i><b>7.3.1</b> Plot Data Sheet</a></li>
<li class="chapter" data-level="7.3.2" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html#profile-data-sheet"><i class="fa fa-check"></i><b>7.3.2</b> Profile Data Sheet</a></li>
<li class="chapter" data-level="7.3.3" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html#element-data-sheet"><i class="fa fa-check"></i><b>7.3.3</b> Element Data Sheet</a></li>
<li class="chapter" data-level="7.3.4" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html#specimen-data-sheet"><i class="fa fa-check"></i><b>7.3.4</b> Specimen Data Sheet</a></li>
<li class="chapter" data-level="7.3.5" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html#procedures-sheet"><i class="fa fa-check"></i><b>7.3.5</b> Procedures Sheet</a></li>
<li class="chapter" data-level="7.3.6" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html#metadata-sheet"><i class="fa fa-check"></i><b>7.3.6</b> Metadata Sheet</a></li>
<li class="chapter" data-level="7.3.7" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html#original-data-sheet"><i class="fa fa-check"></i><b>7.3.7</b> Original Data Sheet</a></li>
<li class="chapter" data-level="7.3.8" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html#glosis-methods-sheet"><i class="fa fa-check"></i><b>7.3.8</b> GloSIS Methods sheet</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html#glosis-etl"><i class="fa fa-check"></i><b>7.4</b> GloSIS-ETL</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html#glosis-data-harmonization"><i class="fa fa-check"></i><b>7.4.1</b> GloSIS Data Harmonization</a></li>
<li class="chapter" data-level="7.4.2" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html#step-1-data-ingestion-variable-mapping"><i class="fa fa-check"></i><b>7.4.2</b> Step 1: Data Ingestion &amp; Variable Mapping</a></li>
<li class="chapter" data-level="7.4.3" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html#step-2-quality-check-and-quality-report-generation"><i class="fa fa-check"></i><b>7.4.3</b> Step 2: Quality Check and Quality Report Generation</a></li>
<li class="chapter" data-level="7.4.4" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html#step-2a-geographic-data-validation"><i class="fa fa-check"></i><b>7.4.4</b> Step 2a: Geographic Data Validation</a></li>
<li class="chapter" data-level="7.4.5" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html#step-2b-soil-depth-validation"><i class="fa fa-check"></i><b>7.4.5</b> Step 2b: Soil Depth Validation</a></li>
<li class="chapter" data-level="7.4.6" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html#step-2c-soil-properties-validation"><i class="fa fa-check"></i><b>7.4.6</b> Step 2c: Soil Properties Validation</a></li>
<li class="chapter" data-level="7.4.7" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html#step-3-data-correction-and-resubmission"><i class="fa fa-check"></i><b>7.4.7</b> Step 3: Data Correction and Resubmission</a></li>
<li class="chapter" data-level="7.4.8" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html#step-4-download-harmonized-data"><i class="fa fa-check"></i><b>7.4.8</b> Step 4: Download Harmonized Data</a></li>
<li class="chapter" data-level="7.4.9" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html#glosis-data-standardization"><i class="fa fa-check"></i><b>7.4.9</b> GloSIS Data Standardization</a></li>
<li class="chapter" data-level="7.4.10" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html#glosis-data-viewer"><i class="fa fa-check"></i><b>7.4.10</b> GloSIS Data Viewer</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html#installation-and-setup-of-the-glosis-etl"><i class="fa fa-check"></i><b>7.5</b> Installation and Setup of the GloSIS-ETL</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html#install-docker-desktop"><i class="fa fa-check"></i><b>7.5.1</b> Install Docker Desktop</a></li>
<li class="chapter" data-level="7.5.2" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html#install-the-glosis-etl-services"><i class="fa fa-check"></i><b>7.5.2</b> Install the GloSIS-ETL Services</a></li>
<li class="chapter" data-level="7.5.3" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html#verify-installation"><i class="fa fa-check"></i><b>7.5.3</b> Verify Installation</a></li>
<li class="chapter" data-level="7.5.4" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html#pgadmin"><i class="fa fa-check"></i><b>7.5.4</b> Optional: pgAdmin Web Interface</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html#accessing-the-services"><i class="fa fa-check"></i><b>7.6</b> Accessing the Services</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html#landing-page"><i class="fa fa-check"></i><b>7.6.1</b> Landing Page</a></li>
<li class="chapter" data-level="7.6.2" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html#shiny-application-modules"><i class="fa fa-check"></i><b>7.6.2</b> Shiny Application Modules</a></li>
<li class="chapter" data-level="7.6.3" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html#glosis-database"><i class="fa fa-check"></i><b>7.6.3</b> GloSIS Database</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html#docker-compose-file"><i class="fa fa-check"></i><b>7.7</b> The <code>docker-compose.yml</code> File</a></li>
<li class="chapter" data-level="7.8" data-path="glosis-soil-data-preparation.html"><a href="glosis-soil-data-preparation.html#env-file"><i class="fa fa-check"></i><b>7.8</b> The <code>.env</code> File</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html"><i class="fa fa-check"></i><b>8</b> Digital Soil Mapping and Modeling</a>
<ul>
<li class="chapter" data-level="" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#part-i-theoretical-foundations"><i class="fa fa-check"></i>Part I: Theoretical Foundations</a></li>
<li class="chapter" data-level="8.1" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#fundamentals-of-digital-soil-mapping"><i class="fa fa-check"></i><b>8.1</b> Fundamentals of Digital Soil Mapping</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#introduction-to-digital-soil-mapping"><i class="fa fa-check"></i><b>8.1.1</b> Introduction to Digital Soil Mapping</a></li>
<li class="chapter" data-level="8.1.2" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#the-scorpan-framework"><i class="fa fa-check"></i><b>8.1.2</b> The SCORPAN Framework</a></li>
<li class="chapter" data-level="8.1.3" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#statistical-theory-for-predictive-soil-mapping"><i class="fa fa-check"></i><b>8.1.3</b> Statistical Theory for Predictive Soil Mapping</a></li>
<li class="chapter" data-level="8.1.4" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#types-of-soil-variables"><i class="fa fa-check"></i><b>8.1.4</b> Types of Soil Variables</a></li>
<li class="chapter" data-level="8.1.5" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#prediction-methods"><i class="fa fa-check"></i><b>8.1.5</b> Prediction Methods</a></li>
<li class="chapter" data-level="8.1.6" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#nonlinearity-and-uncertainty"><i class="fa fa-check"></i><b>8.1.6</b> Nonlinearity and Uncertainty</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#part-ii-practical-application"><i class="fa fa-check"></i>Part II: Practical Application</a></li>
<li class="chapter" data-level="8.2" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#workflow-overview"><i class="fa fa-check"></i><b>8.2</b> Workflow Overview</a></li>
<li class="chapter" data-level="8.3" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#continuous-modelling-ph"><i class="fa fa-check"></i><b>8.3</b> Continuous Modelling (pH)</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#nature-of-the-variable"><i class="fa fa-check"></i><b>8.3.1</b> Nature of the Variable</a></li>
<li class="chapter" data-level="8.3.2" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#data-and-covariates"><i class="fa fa-check"></i><b>8.3.2</b> Data and Covariates</a></li>
<li class="chapter" data-level="8.3.3" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#feature-selection-boruta"><i class="fa fa-check"></i><b>8.3.3</b> Feature Selection (Boruta)</a></li>
<li class="chapter" data-level="8.3.4" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#model-training"><i class="fa fa-check"></i><b>8.3.4</b> Model Training</a></li>
<li class="chapter" data-level="8.3.5" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#variable-importance"><i class="fa fa-check"></i><b>8.3.5</b> Variable Importance</a></li>
<li class="chapter" data-level="8.3.6" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#validation-metrics"><i class="fa fa-check"></i><b>8.3.6</b> Validation Metrics</a></li>
<li class="chapter" data-level="8.3.7" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#prediction-maps"><i class="fa fa-check"></i><b>8.3.7</b> Prediction Maps</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#nominal-classification-clay_ph_class"><i class="fa fa-check"></i><b>8.4</b> Nominal Classification (Clay_pH_Class)</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#nature-of-the-variable-1"><i class="fa fa-check"></i><b>8.4.1</b> Nature of the Variable</a></li>
<li class="chapter" data-level="8.4.2" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#feature-selection"><i class="fa fa-check"></i><b>8.4.2</b> Feature Selection</a></li>
<li class="chapter" data-level="8.4.3" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#model-training-1"><i class="fa fa-check"></i><b>8.4.3</b> Model Training</a></li>
<li class="chapter" data-level="8.4.4" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#validation"><i class="fa fa-check"></i><b>8.4.4</b> Validation</a></li>
<li class="chapter" data-level="8.4.5" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#prediction-maps-1"><i class="fa fa-check"></i><b>8.4.5</b> Prediction Maps</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#ordinal-modelling-ph_class"><i class="fa fa-check"></i><b>8.5</b> Ordinal Modelling (pH_Class)</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#nature-of-the-variable-2"><i class="fa fa-check"></i><b>8.5.1</b> Nature of the Variable</a></li>
<li class="chapter" data-level="8.5.2" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#ordinal-encoding"><i class="fa fa-check"></i><b>8.5.2</b> Ordinal Encoding</a></li>
<li class="chapter" data-level="8.5.3" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#feature-selection-1"><i class="fa fa-check"></i><b>8.5.3</b> Feature Selection</a></li>
<li class="chapter" data-level="8.5.4" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#model-training-2"><i class="fa fa-check"></i><b>8.5.4</b> Model Training</a></li>
<li class="chapter" data-level="8.5.5" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#validation-1"><i class="fa fa-check"></i><b>8.5.5</b> Validation</a></li>
<li class="chapter" data-level="8.5.6" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#prediction-maps-2"><i class="fa fa-check"></i><b>8.5.6</b> Prediction Maps</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#area-of-applicability-aoa"><i class="fa fa-check"></i><b>8.6</b> Area of Applicability (AOA)</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#why-aoa-is-necessary"><i class="fa fa-check"></i><b>8.6.1</b> Why AOA is Necessary</a></li>
<li class="chapter" data-level="8.6.2" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#dissimilarity-index-di"><i class="fa fa-check"></i><b>8.6.2</b> Dissimilarity Index (DI)</a></li>
<li class="chapter" data-level="8.6.3" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#aoa-binary-mask"><i class="fa fa-check"></i><b>8.6.3</b> AOA Binary Mask</a></li>
<li class="chapter" data-level="8.6.4" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#local-point-density-lpd"><i class="fa fa-check"></i><b>8.6.4</b> Local Point Density (LPD)</a></li>
<li class="chapter" data-level="8.6.5" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#predictions-masked-to-aoa"><i class="fa fa-check"></i><b>8.6.5</b> Predictions Masked to AOA</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#summary"><i class="fa fa-check"></i><b>8.7</b> Summary</a></li>
<li class="chapter" data-level="" data-path="digital-soil-mapping-and-modeling.html"><a href="digital-soil-mapping-and-modeling.html#references-1"><i class="fa fa-check"></i>References</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="soil-data-sharing.html"><a href="soil-data-sharing.html"><i class="fa fa-check"></i><b>9</b> Soil Data Sharing</a>
<ul>
<li class="chapter" data-level="9.1" data-path="soil-data-sharing.html"><a href="soil-data-sharing.html#data-sharing-and-export-formats"><i class="fa fa-check"></i><b>9.1</b> Data sharing and export formats</a></li>
<li class="chapter" data-level="9.2" data-path="soil-data-sharing.html"><a href="soil-data-sharing.html#metadata"><i class="fa fa-check"></i><b>9.2</b> Metadata</a></li>
<li class="chapter" data-level="9.3" data-path="soil-data-sharing.html"><a href="soil-data-sharing.html#web-services"><i class="fa fa-check"></i><b>9.3</b> Web Services</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references-2.html"><a href="references-2.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><p>DRAFT - Integrated soil information for decision-making
<img src="images/frontcover.jpg" style="top:0px;height:100px;" align="right" /></p></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introduction-to-r-programming" class="section level1 unnumbered hasAnchor">
<h1>Introduction to R programming<a href="introduction-to-r-programming.html#introduction-to-r-programming" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="what-is-r" class="section level2 hasAnchor" number="0.1">
<h2><span class="header-section-number">0.1</span> What is R?<a href="introduction-to-r-programming.html#what-is-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><img src="images/Rlogo.png" width="20" style="vertical-align:top;"/> is a programming language and software environment designed for statistical computing, data analysis, and visualization.
It was created in the early 1990s by Ross Ihaka and Robert Gentleman at the University of Auckland, New Zealand, and has since grown into one of the most widely used tools in data science, particularly for statistical modeling.</p>
<p>R is open-source, meaning it is freely available and supported by a large global community of users and developers.
This community continuously develops new tools and packages that extend R’s capabilities, making it highly adaptable to diverse fields such as ecology, genetics, economics, social sciences and, as in this case, soil science.</p>
<div id="why-r-for-soil-science" class="section level3 hasAnchor" number="0.1.1">
<h3><span class="header-section-number">0.1.1</span> Why R for Soil Science?<a href="introduction-to-r-programming.html#why-r-for-soil-science" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>R is particularly well-suited for soil science applications because it offers comprehensive tools for:</p>
<ul>
<li><p><strong>Data management</strong>: Efficiently handle, clean, and transform large soil datasets</p></li>
<li><p><strong>Statistical analysis</strong>: Perform descriptive and inferential statistics, ANOVA, regression models, and more</p></li>
<li><p><strong>Spatial analysis</strong>: Work with geographic data using packages like <code>{terra}</code> and <code>{sf}</code></p></li>
<li><p><strong>Digital Soil Mapping</strong>: Apply machine learning algorithms for predictive soil mapping</p></li>
<li><p><strong>Visualization</strong>: Create publication-quality maps, charts, and graphs using <code>{ggplot2}</code> and other visualization tools</p></li>
<li><p><strong>Reproducibility</strong>: Share analyses through scripts that others can replicate and verify</p></li>
</ul>
<p>In the context of SoilFER, the FAO Global Soil Partnership (GSP) and Digital Soil Mapping initiatives, R provides standardized workflows that promote collaboration, transparency, and scientific rigor.</p>
<div class="highlights">
<ul>
<li>R is a analytical go-to platform which unites statistical, spatial, and visualization capabilities in a single ecosystem.</li>
<li>It powers digital soil mapping, supports machine learning and reproducible reporting, and connects seamlessly with GIS and database tools.</li>
</ul>
</div>
</div>
</div>
<div id="installing-r-and-rstudio" class="section level2 hasAnchor" number="0.2">
<h2><span class="header-section-number">0.2</span> Installing R and RStudio<a href="introduction-to-r-programming.html#installing-r-and-rstudio" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>To start using R, you need two main components:</p>
<ol style="list-style-type: decimal">
<li><p><strong>R</strong>: The core programming language and computational engine</p></li>
<li><p><strong>RStudio</strong>: An integrated development environment (IDE) that makes working with R easier</p></li>
</ol>
<div id="installing-r" class="section level3 hasAnchor" number="0.2.1">
<h3><span class="header-section-number">0.2.1</span> Installing R<a href="introduction-to-r-programming.html#installing-r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Step 1</strong>: Visit the Comprehensive R Archive Network (CRAN): <a href="https://cran.r-project.org/" class="uri">https://cran.r-project.org/</a></p>
<p><strong>Step 2</strong>: Choose your operating system:</p>
<ul>
<li><p><strong>Windows</strong>: Click “Download R for Windows” → “base” → “Download R-4.x.x for Windows”</p></li>
<li><p><strong>macOS</strong>: Click “Download R for macOS” → Select the appropriate <code>.pkg</code> file for your macOS version</p></li>
<li><p><strong>Linux</strong>: Follow the distribution-specific instructions</p></li>
</ul>
<p><strong>Step 3</strong>: Run the installer and follow the prompts. Accept the default settings unless you have specific preferences.</p>
</div>
<div id="installing-rstudio" class="section level3 hasAnchor" number="0.2.2">
<h3><span class="header-section-number">0.2.2</span> Installing RStudio<a href="introduction-to-r-programming.html#installing-rstudio" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Step 1</strong>: Visit RStudio’s website: <a href="https://posit.co/download/rstudio-desktop/" class="uri">https://posit.co/download/rstudio-desktop/</a></p>
<p><strong>Step 2</strong>: Download the free RStudio Desktop version for your operating system</p>
<p><strong>Step 3</strong>: Install RStudio by running the installer</p>
<p>Once installed, R provides the underlying engine for data analysis but working directly in base R can be challenging due to its command-line interface.</p>
<div class="warning-box">
<p><strong>Important</strong></p>
<ul>
<li>Install R before installing RStudio, as RStudio requires R to function.</li>
</ul>
</div>
</div>
<div id="verifying-installation" class="section level3 hasAnchor" number="0.2.3">
<h3><span class="header-section-number">0.2.3</span> Verifying Installation<a href="introduction-to-r-programming.html#verifying-installation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>After installation, open RStudio. You should see a window with several panes:</p>
<ul>
<li><p><strong>Console</strong> (bottom left): Where R commands are executed</p></li>
<li><p><strong>Source</strong> (top left): Where you write and edit scripts</p></li>
<li><p><strong>Environment/History</strong> (top right): Shows variables and command history</p></li>
<li><p><strong>Files/Plots/Packages/Help</strong> (bottom right): File browser, plot viewer, package manager, and help documentation</p></li>
</ul>
<p>Try typing a simple command in the Console window:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="introduction-to-r-programming.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Simple arithmetic</span></span>
<span id="cb3-2"><a href="introduction-to-r-programming.html#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="sc">+</span> <span class="dv">2</span></span>
<span id="cb3-3"><a href="introduction-to-r-programming.html#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="introduction-to-r-programming.html#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Check R version</span></span>
<span id="cb3-5"><a href="introduction-to-r-programming.html#cb3-5" aria-hidden="true" tabindex="-1"></a>R.version.string</span></code></pre></div>
<p>If you see the results, R and RStudio are properly installed in your system.</p>
</div>
</div>
<div id="understanding-the-rstudio-interface" class="section level2 hasAnchor" number="0.3">
<h2><span class="header-section-number">0.3</span> Understanding the RStudio Interface<a href="introduction-to-r-programming.html#understanding-the-rstudio-interface" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>RStudio</strong> provides an integrated environment that simplifies working with R. The interface is divided into four main panes (Fig. <a href="introduction-to-r-programming.html#fig:rstudio">0.1</a>):</p>
<div class="figure"><span style="display:block;" id="fig:rstudio"></span>
<img src="images/module1/2_RStudio-interface.png" alt="RStudio interface." width="100%" />
<p class="caption">
Figure 0.1: RStudio interface.
</p>
</div>
<div id="console-pane-bottom-left" class="section level3 hasAnchor" number="0.3.1">
<h3><span class="header-section-number">0.3.1</span> 1. Console Pane (Bottom Left)<a href="introduction-to-r-programming.html#console-pane-bottom-left" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <strong>Console</strong> is where R code is executed.
You can type commands directly here or run them from your script.
The Console displays results, warnings, and error messages.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="introduction-to-r-programming.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Type directly in the console</span></span>
<span id="cb4-2"><a href="introduction-to-r-programming.html#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="sc">*</span> <span class="dv">3</span></span>
<span id="cb4-3"><a href="introduction-to-r-programming.html#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="introduction-to-r-programming.html#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># R will immediately show the result</span></span>
<span id="cb4-5"><a href="introduction-to-r-programming.html#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co"># [1] 15</span></span></code></pre></div>
</div>
<div id="code-editor-pane-top-left" class="section level3 hasAnchor" number="0.3.2">
<h3><span class="header-section-number">0.3.2</span> 2. Code Editor Pane (Top Left)<a href="introduction-to-r-programming.html#code-editor-pane-top-left" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You can write commands directly in the Console and execute them line by line. However, it is usually more convenient to write code in a script editor—the <strong>Code Editor</strong> pane. Here you can create and edit R scripts (<code>.R</code> files), R Markdown documents (<code>.Rmd</code> files), and other file types. Scripts allow you to save your code and run it repeatedly, which is essential for reproducible analysis.</p>
<p>Working in the <strong>Code Editor</strong> also makes it easier to organize code for later use. You can send any line or selected block of code to the <strong>Console</strong> for execution by pressing <code>Ctrl + Enter</code> (Windows/Linux) or <code>Cmd + Enter</code> (macOS). You can also run code by clicking the <strong>Run</strong> button in the top-right corner of the <strong>Code Editor</strong> pane.</p>
<div class="highlights">
<ul>
<li>Code can be written and executed directly in the <strong>Console</strong>.<br />
</li>
<li>Using the <strong>Code Editor</strong> is more convenient for organizing and reusing code.<br />
</li>
<li>Send a line or block of code to the console with <code>Ctrl + Enter</code> (Windows(), <code>Cmd + Enter</code> (macOS), or the equivalent shortcut in Linux.<br />
</li>
<li>You can also run code by clicking the <strong>Run</strong> button in the script editor.<br />
</li>
</ul>
<p><strong>Creating a new script:</strong>
- File → New File → R Script (or press <code>Ctrl+Shift+N</code> / <code>Cmd+Shift+N</code>)</p>
</div>
</div>
<div id="environmenthistory-pane-top-right" class="section level3 hasAnchor" number="0.3.3">
<h3><span class="header-section-number">0.3.3</span> 3. Environment/History Pane (Top Right)<a href="introduction-to-r-programming.html#environmenthistory-pane-top-right" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p><strong>Environment</strong>: Shows all objects (variables, datasets, functions) currently in your R session</p></li>
<li><p><strong>History</strong>: Records all commands you’ve run during the session</p></li>
</ul>
</div>
<div id="filesplotspackageshelp-pane-bottom-right" class="section level3 hasAnchor" number="0.3.4">
<h3><span class="header-section-number">0.3.4</span> 4. Files/Plots/Packages/Help Pane (Bottom Right)<a href="introduction-to-r-programming.html#filesplotspackageshelp-pane-bottom-right" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p><strong>Files</strong>: Browse your computer’s file system</p></li>
<li><p><strong>Plots</strong>: View visualizations created with R</p></li>
<li><p><strong>Packages</strong>: Manage installed packages</p></li>
<li><p><strong>Help</strong>: Access R documentation and function help pages</p></li>
</ul>
<div class="highlights">
<p><strong>Best Practice</strong></p>
<ul>
<li><p>Always work in scripts rather than typing directly in the Console.</p></li>
<li><p>Scripts preserve your workflow and make your analysis reproducible.</p></li>
</ul>
</div>
</div>
</div>
<div id="r-packages-extending-rs-capabilities" class="section level2 hasAnchor" number="0.4">
<h2><span class="header-section-number">0.4</span> R Packages: Extending R’s Capabilities<a href="introduction-to-r-programming.html#r-packages-extending-rs-capabilities" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>R’s strength lies in its extensibility through <strong>packages</strong>.
A package is a collection of functions, data, and documentation that extends R’s functionality for specific tasks.</p>
<div id="what-are-packages" class="section level3 hasAnchor" number="0.4.1">
<h3><span class="header-section-number">0.4.1</span> What are Packages?<a href="introduction-to-r-programming.html#what-are-packages" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The base R installation includes fundamental functions for data manipulation and statistical analysis.
However, specialized tasks often require additional tools provided by contributed packages.</p>
<p>For soil science work, key packages include:</p>
<ul>
<li><p><code>{tidyverse}</code>: A collection of packages for data manipulation and visualization, including <code>{dplyr}</code> and <code>{tidyr}</code>, among others</p></li>
<li><p><code>{terra}</code>: Spatial data analysis and raster operations</p></li>
<li><p><code>{sf}</code>: Working with vector spatial data</p></li>
<li><p><code>{aqp}</code>: Algorithms for Quantitative Pedology (soil profile data)</p></li>
<li><p><code>{ggplot2}</code> : Advanced data visualization (part of tidyverse)</p></li>
</ul>
</div>
<div id="installing-packages" class="section level3 hasAnchor" number="0.4.2">
<h3><span class="header-section-number">0.4.2</span> Installing Packages<a href="introduction-to-r-programming.html#installing-packages" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Packages need to be installed once before you can use them.
Use <code>install.packages()</code>:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="introduction-to-r-programming.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Install a single package</span></span>
<span id="cb5-2"><a href="introduction-to-r-programming.html#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>)</span>
<span id="cb5-3"><a href="introduction-to-r-programming.html#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="introduction-to-r-programming.html#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Install multiple packages at once</span></span>
<span id="cb5-5"><a href="introduction-to-r-programming.html#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="fu">c</span>(<span class="st">&quot;terra&quot;</span>, <span class="st">&quot;sf&quot;</span>, <span class="st">&quot;aqp&quot;</span>))</span></code></pre></div>
<p>You only need to install a package once, but you must load it with <code>library()</code> each time you start a new R session.</p>
<p>You can check which <em>{packages}</em> are installed with:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="introduction-to-r-programming.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">installed.packages</span>()</span></code></pre></div>
<p><br></p>
<div id="install-packages-from-github-or-other-sources" class="section level4 hasAnchor" number="0.4.2.1">
<h4><span class="header-section-number">0.4.2.1</span> Install Packages from GitHub or Other Sources<a href="introduction-to-r-programming.html#install-packages-from-github-or-other-sources" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Some <em>{packages}</em> are not yet available on CRAN or you may want a newer development versions from GitHub, Gitlab, bitbucket, or an URL.
In these cases, you can use the <code>remotes</code> or <code>devtools</code> <em>{packages}</em>, with the functions <code>install_github()</code>, <code>install_gitlab()</code>, <code>install_bitbucket()</code> or <code>install_url()</code>:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="introduction-to-r-programming.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># First, install remotes package (if not already installed)</span></span>
<span id="cb7-2"><a href="introduction-to-r-programming.html#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;remotes&quot;</span>)</span>
<span id="cb7-3"><a href="introduction-to-r-programming.html#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="introduction-to-r-programming.html#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Install an R package from GitHub</span></span>
<span id="cb7-5"><a href="introduction-to-r-programming.html#cb7-5" aria-hidden="true" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">&quot;rspatial/terra&quot;</span>)</span></code></pre></div>
<p>This is useful for accessing cutting-edge versions, experimental features, or tools developed by research groups.</p>
</div>
<div id="manual-installation-of-r-packages" class="section level4 hasAnchor" number="0.4.2.2">
<h4><span class="header-section-number">0.4.2.2</span> Manual Installation of R Packages<a href="introduction-to-r-programming.html#manual-installation-of-r-packages" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>You may need to install R <em>{packages}</em> manually especially when working in environments without internet access or when using custom-built <em>{packages}</em>.</p>
<p>There are two common methods:</p>
<ul>
<li><strong>1. Installing from a compressed source package file</strong> (e.g., <code>mypackage_1.0.0.tar.gz</code>)</li>
</ul>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="introduction-to-r-programming.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;path/to/mypackage_1.0.0.tar.gz&quot;</span>, <span class="at">repos =</span> <span class="cn">NULL</span>, <span class="at">type =</span> <span class="st">&quot;source&quot;</span>)</span></code></pre></div>
<ul>
<li><strong>2. Installing from a Local <code>.zip</code> file</strong> (Windows Binary)</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="introduction-to-r-programming.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;path/to/mypackage.zip&quot;</span>, <span class="at">repos =</span> <span class="cn">NULL</span>, <span class="at">type =</span> <span class="st">&quot;win.binary&quot;</span>)</span></code></pre></div>
<p>This method does not require compilation and is usually faster on Windows.</p>
<div class="warning-box">
<p><strong>Note:</strong></p>
<ul>
<li><p>Package installation typically requires an internet connection.</p></li>
<li><p>Depending on the package size and your connection speed, installation may take several minutes.</p></li>
</ul>
</div>
</div>
</div>
<div id="loading-packages" class="section level3 hasAnchor" number="0.4.3">
<h3><span class="header-section-number">0.4.3</span> Loading Packages<a href="introduction-to-r-programming.html#loading-packages" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>After installation, you must <strong>load</strong> a package into your R session each time you start R.
Use the <code>library()</code> function:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="introduction-to-r-programming.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load tidyverse package</span></span>
<span id="cb10-2"><a href="introduction-to-r-programming.html#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb10-3"><a href="introduction-to-r-programming.html#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="introduction-to-r-programming.html#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Load multiple packages</span></span>
<span id="cb10-5"><a href="introduction-to-r-programming.html#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(terra)</span>
<span id="cb10-6"><a href="introduction-to-r-programming.html#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb10-7"><a href="introduction-to-r-programming.html#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(aqp)</span></code></pre></div>
<div class="highlights">
<p><strong>Key Difference:</strong></p>
<ul>
<li><code>install.packages()</code>: Downloads and installs a package (once)</li>
<li><code>library()</code>: Loads a package into your current session (every time you start R)</li>
</ul>
</div>
</div>
<div id="finding-help-on-packages" class="section level3 hasAnchor" number="0.4.4">
<h3><span class="header-section-number">0.4.4</span> Finding Help on Packages<a href="introduction-to-r-programming.html#finding-help-on-packages" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="introduction-to-r-programming.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get help on a package</span></span>
<span id="cb11-2"><a href="introduction-to-r-programming.html#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">help</span>(<span class="at">package =</span> <span class="st">&quot;tidyverse&quot;</span>)</span>
<span id="cb11-3"><a href="introduction-to-r-programming.html#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="introduction-to-r-programming.html#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Or use</span></span>
<span id="cb11-5"><a href="introduction-to-r-programming.html#cb11-5" aria-hidden="true" tabindex="-1"></a>?tidyverse</span>
<span id="cb11-6"><a href="introduction-to-r-programming.html#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="introduction-to-r-programming.html#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="co"># View vignettes (tutorials) for a package</span></span>
<span id="cb11-8"><a href="introduction-to-r-programming.html#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="fu">vignette</span>(<span class="at">package =</span> <span class="st">&quot;ggplot2&quot;</span>)</span></code></pre></div>
</div>
</div>
<div id="object-types" class="section level2 hasAnchor" number="0.5">
<h2><span class="header-section-number">0.5</span> R Basics: Objects and Data Types<a href="introduction-to-r-programming.html#object-types" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In R, everything you work with is an <strong>object</strong> (numbers, text, vectors, tables, models, and maps). When you create an object, R stores it in your computer’s <strong>memory</strong> (RAM) so you can reuse it later. Because memory is limited, especially when working with large soil datasets, rasters, or spatial objects, it is good practice to keep your workspace tidy: reuse objects when appropriate, remove objects you no longer need with <code>rm()</code>, and occasionally trigger garbage collection with ´gc()´ to free memory that is no longer in use.</p>
<div id="object-assignment" class="section level3 hasAnchor" number="0.5.1">
<h3><span class="header-section-number">0.5.1</span> Creating Objects with Assignment<a href="introduction-to-r-programming.html#object-assignment" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>If you run an operation without assigning it to an object, R will compute the result but won’t store it for later use.
You can assign values to objects using either <code>&lt;-</code> or <code>=</code>.</p>
<p>However, the preferred and most common assignment operator is <code>&lt;-</code> while <code>=</code> is most commonly used inside function calls to name arguments. This avoids confusion between assigning objects and passing inputs to functions.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="introduction-to-r-programming.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign a value to a variable</span></span>
<span id="cb12-2"><a href="introduction-to-r-programming.html#cb12-2" aria-hidden="true" tabindex="-1"></a>soil_depth <span class="ot">&lt;-</span> <span class="dv">30</span></span>
<span id="cb12-3"><a href="introduction-to-r-programming.html#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="introduction-to-r-programming.html#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Assignment `&lt;-` to objects and `=` to function arguments</span></span>
<span id="cb12-5"><a href="introduction-to-r-programming.html#cb12-5" aria-hidden="true" tabindex="-1"></a>soil_depth <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="at">x =</span> ph_values, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="warning-box">
<p><strong>Naming Rules:</strong>
- Object names must start with a letter
- Names can contain letters, numbers, underscores <code>_</code>, and periods <code>.</code>
- Names are case-sensitive: <code>SoilDepth</code> is different from <code>soildepth</code>
- Avoid using reserved words like <code>TRUE</code>, <code>FALSE</code>, <code>NA</code>, <code>function</code>, etc.</p>
<p><strong>Good naming practices:</strong></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="introduction-to-r-programming.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Descriptive names</span></span>
<span id="cb13-2"><a href="introduction-to-r-programming.html#cb13-2" aria-hidden="true" tabindex="-1"></a>soil_ph <span class="ot">&lt;-</span> <span class="fl">6.5</span></span>
<span id="cb13-3"><a href="introduction-to-r-programming.html#cb13-3" aria-hidden="true" tabindex="-1"></a>organic_carbon_percent <span class="ot">&lt;-</span> <span class="fl">2.1</span></span>
<span id="cb13-4"><a href="introduction-to-r-programming.html#cb13-4" aria-hidden="true" tabindex="-1"></a>clay_content_gkg <span class="ot">&lt;-</span> <span class="dv">350</span></span>
<span id="cb13-5"><a href="introduction-to-r-programming.html#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="introduction-to-r-programming.html#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Use consistent style</span></span>
<span id="cb13-7"><a href="introduction-to-r-programming.html#cb13-7" aria-hidden="true" tabindex="-1"></a>plot_id <span class="ot">&lt;-</span> <span class="st">&quot;P001&quot;</span>      <span class="co"># snake_case (recommended)</span></span>
<span id="cb13-8"><a href="introduction-to-r-programming.html#cb13-8" aria-hidden="true" tabindex="-1"></a>plotID <span class="ot">&lt;-</span> <span class="st">&quot;P001&quot;</span>       <span class="co"># camelCase (alternative)</span></span></code></pre></div>
<p><strong>Avoid:</strong></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="introduction-to-r-programming.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Too short, unclear</span></span>
<span id="cb14-2"><a href="introduction-to-r-programming.html#cb14-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fl">6.5</span></span>
<span id="cb14-3"><a href="introduction-to-r-programming.html#cb14-3" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fl">2.1</span></span>
<span id="cb14-4"><a href="introduction-to-r-programming.html#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="introduction-to-r-programming.html#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Too long</span></span>
<span id="cb14-6"><a href="introduction-to-r-programming.html#cb14-6" aria-hidden="true" tabindex="-1"></a>the_ph_value_of_the_topsoil_at_site_one <span class="ot">&lt;-</span> <span class="fl">6.5</span></span></code></pre></div>
</div>
</div>
<div id="data-types" class="section level3 hasAnchor" number="0.5.2">
<h3><span class="header-section-number">0.5.2</span> Data Types in R<a href="introduction-to-r-programming.html#data-types" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Every object in R has a data type, which tells R what kind of information it contains and how it can be used (for example, whether you can do math with it or use it as text labels).</p>
<p>R has several basic data types:</p>
<div id="numeric-data" class="section level4 hasAnchor" number="0.5.2.1">
<h4><span class="header-section-number">0.5.2.1</span> 1. Numeric (Numbers)<a href="introduction-to-r-programming.html#numeric-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Numeric values store measurements that can include decimals (e.g., pH, clay %, temperature).</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="introduction-to-r-programming.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Numeric values</span></span>
<span id="cb15-2"><a href="introduction-to-r-programming.html#cb15-2" aria-hidden="true" tabindex="-1"></a>ph_value <span class="ot">&lt;-</span> <span class="fl">6.8</span></span>
<span id="cb15-3"><a href="introduction-to-r-programming.html#cb15-3" aria-hidden="true" tabindex="-1"></a>clay_percent <span class="ot">&lt;-</span> <span class="fl">25.5</span></span>
<span id="cb15-4"><a href="introduction-to-r-programming.html#cb15-4" aria-hidden="true" tabindex="-1"></a>temperature <span class="ot">&lt;-</span> <span class="fl">15.2</span></span></code></pre></div>
</div>
<div id="integer-data" class="section level4 hasAnchor" number="0.5.2.2">
<h4><span class="header-section-number">0.5.2.2</span> 2. Integer (Whole Numbers)<a href="introduction-to-r-programming.html#integer-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Integers are whole numbers. In R, you can create them explicitly using the L suffix.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="introduction-to-r-programming.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Integer values (use L suffix)</span></span>
<span id="cb16-2"><a href="introduction-to-r-programming.html#cb16-2" aria-hidden="true" tabindex="-1"></a>sample_count <span class="ot">&lt;-</span> 100L</span>
<span id="cb16-3"><a href="introduction-to-r-programming.html#cb16-3" aria-hidden="true" tabindex="-1"></a>plot_number <span class="ot">&lt;-</span> 5L</span></code></pre></div>
</div>
<div id="text-data" class="section level4 hasAnchor" number="0.5.2.3">
<h4><span class="header-section-number">0.5.2.3</span> 3. Character (Text Strings)<a href="introduction-to-r-programming.html#text-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Character values store text (soil types, locations, notes). They must be written inside quotes.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="introduction-to-r-programming.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Character values (use quotes)</span></span>
<span id="cb17-2"><a href="introduction-to-r-programming.html#cb17-2" aria-hidden="true" tabindex="-1"></a>soil_type <span class="ot">&lt;-</span> <span class="st">&quot;Acrisol&quot;</span></span>
<span id="cb17-3"><a href="introduction-to-r-programming.html#cb17-3" aria-hidden="true" tabindex="-1"></a>location <span class="ot">&lt;-</span> <span class="st">&quot;Kansas&quot;</span></span>
<span id="cb17-4"><a href="introduction-to-r-programming.html#cb17-4" aria-hidden="true" tabindex="-1"></a>notes <span class="ot">&lt;-</span> <span class="st">&quot;Sample collected from topsoil&quot;</span></span></code></pre></div>
</div>
<div id="logical-data" class="section level4 hasAnchor" number="0.5.2.4">
<h4><span class="header-section-number">0.5.2.4</span> 4. Logical (TRUE/FALSE)<a href="introduction-to-r-programming.html#logical-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Logical values represent yes/no conditions and are commonly used for filtering and decision-making.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="introduction-to-r-programming.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Logical values</span></span>
<span id="cb18-2"><a href="introduction-to-r-programming.html#cb18-2" aria-hidden="true" tabindex="-1"></a>is_valid <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb18-3"><a href="introduction-to-r-programming.html#cb18-3" aria-hidden="true" tabindex="-1"></a>has_missing_data <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span></code></pre></div>
</div>
<div id="dates-data" class="section level4 hasAnchor" number="0.5.2.5">
<h4><span class="header-section-number">0.5.2.5</span> 5. Dates<a href="introduction-to-r-programming.html#dates-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Dates often are imported as character strings, but it is better to convert them to the Date class for sorting, filtering, and plotting.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="introduction-to-r-programming.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ISO 8601 date format, YYYY-MM-DD</span></span>
<span id="cb19-2"><a href="introduction-to-r-programming.html#cb19-2" aria-hidden="true" tabindex="-1"></a>sampling_date <span class="ot">&lt;-</span> <span class="st">&quot;2024-03-12&quot;</span></span>
<span id="cb19-3"><a href="introduction-to-r-programming.html#cb19-3" aria-hidden="true" tabindex="-1"></a>sampling_date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(sampling_date, <span class="at">format =</span> <span class="st">&quot;%Y-%m-%d&quot;</span>)</span>
<span id="cb19-4"><a href="introduction-to-r-programming.html#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(sampling_date)</span></code></pre></div>
<div class="warning-box">
<ul>
<li>The ISO 8601 date format (<strong>YYYY-MM-DD</strong>) is preferred for storing date values, since it is the date format adopted in the <strong>GloSIS</strong> database.</li>
</ul>
</div>
</div>
</div>
<div id="check-data" class="section level3 hasAnchor" number="0.5.3">
<h3><span class="header-section-number">0.5.3</span> Checking Data Types<a href="introduction-to-r-programming.html#check-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="introduction-to-r-programming.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check the class (high-level type)</span></span>
<span id="cb20-2"><a href="introduction-to-r-programming.html#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(ph_value)   <span class="co"># &quot;numeric&quot;</span></span>
<span id="cb20-3"><a href="introduction-to-r-programming.html#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(soil_type)  <span class="co"># &quot;character&quot;</span></span>
<span id="cb20-4"><a href="introduction-to-r-programming.html#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(is_valid)   <span class="co"># &quot;logical&quot;</span></span>
<span id="cb20-5"><a href="introduction-to-r-programming.html#cb20-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-6"><a href="introduction-to-r-programming.html#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Check the internal storage type</span></span>
<span id="cb20-7"><a href="introduction-to-r-programming.html#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(ph_value)</span>
<span id="cb20-8"><a href="introduction-to-r-programming.html#cb20-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-9"><a href="introduction-to-r-programming.html#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Helpful checks</span></span>
<span id="cb20-10"><a href="introduction-to-r-programming.html#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="fu">is.numeric</span>(ph_value)</span>
<span id="cb20-11"><a href="introduction-to-r-programming.html#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="fu">is.character</span>(soil_type)</span>
<span id="cb20-12"><a href="introduction-to-r-programming.html#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="fu">is.logical</span>(is_valid)</span></code></pre></div>
<p><code>class()</code> is what you’ll use most in practice. <code>typeof()</code> is more ‘internal’ (how R stores the object).</p>
<div class="highlights">
<ul>
<li><p>Every R object has a <strong>data type</strong>, which tells R how to store the information and what operations are possible.</p></li>
<li><p><strong>Numeric</strong>: measurements such as pH, clay (%), bulk density, or organic carbon.</p></li>
<li><p><strong>Numeric vectors</strong>: multiple numeric values (e.g., pH readings from several samples or horizons).</p></li>
<li><p><strong>Character</strong>: text labels such as soil type, land use, site code, or field notes.</p></li>
<li><p><strong>Character vectors</strong>: multiple text values (e.g., a list of soil classes).</p></li>
<li><p><strong>Logical</strong>: <code>TRUE</code>/<code>FALSE</code> values, often used for conditions, filtering, and quality checks.</p></li>
</ul>
</div>
<div class="warning-box">
<p><strong>Caution:</strong></p>
<ul>
<li><p>When importing data from external sources (CSV, Excel, databases), always check that columns have the expected data types. For example, pH or SOC may be imported as text instead of numeric.</p></li>
<li><p>Check types with <code>str()</code>, <code>class()</code>, or <code>typeof()</code>.</p></li>
<li><p>Convert types when needed using <code>as.numeric()</code>, <code>as.character()</code>, <code>as.logical()</code>, or <code>as.Date()</code>.</p></li>
</ul>
</div>
</div>
</div>
<div id="structure-data" class="section level2 hasAnchor" number="0.6">
<h2><span class="header-section-number">0.6</span> Data Structures in R<a href="introduction-to-r-programming.html#structure-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>R can store data in different structures, depending on how many values you have and how you want to organize them. For example, a single measurement can be stored as a number, a series of measurements as a vector, and a full dataset as a data frame. Understanding these structures is essential because it determines how you subset data, apply functions, summarize results, and prepare data for plotting or modeling.</p>
<div id="vector-data" class="section level3 hasAnchor" number="0.6.1">
<h3><span class="header-section-number">0.6.1</span> Vectors<a href="introduction-to-r-programming.html#vector-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A <strong>vector</strong> is the simplest data structure - a one-dimensional sequence of elements of the same type.</p>
<div id="create-vector" class="section level4 hasAnchor" number="0.6.1.1">
<h4><span class="header-section-number">0.6.1.1</span> Creating Vectors<a href="introduction-to-r-programming.html#create-vector" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="introduction-to-r-programming.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a numeric vector using c() (combine)</span></span>
<span id="cb21-2"><a href="introduction-to-r-programming.html#cb21-2" aria-hidden="true" tabindex="-1"></a>ph_values <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">5.2</span>, <span class="fl">6.5</span>, <span class="fl">7.1</span>, <span class="fl">5.8</span>, <span class="fl">6.9</span>)</span>
<span id="cb21-3"><a href="introduction-to-r-programming.html#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(ph_values)</span>
<span id="cb21-4"><a href="introduction-to-r-programming.html#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="introduction-to-r-programming.html#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Character vector</span></span>
<span id="cb21-6"><a href="introduction-to-r-programming.html#cb21-6" aria-hidden="true" tabindex="-1"></a>soil_types <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Acrisol&quot;</span>, <span class="st">&quot;Ferralsol&quot;</span>, <span class="st">&quot;Vertisol&quot;</span>, <span class="st">&quot;Andosol&quot;</span>, <span class="st">&quot;Cambisol&quot;</span>)</span>
<span id="cb21-7"><a href="introduction-to-r-programming.html#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(soil_types)</span>
<span id="cb21-8"><a href="introduction-to-r-programming.html#cb21-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-9"><a href="introduction-to-r-programming.html#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Logical vector</span></span>
<span id="cb21-10"><a href="introduction-to-r-programming.html#cb21-10" aria-hidden="true" tabindex="-1"></a>valid_samples <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>)</span>
<span id="cb21-11"><a href="introduction-to-r-programming.html#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(valid_samples)</span>
<span id="cb21-12"><a href="introduction-to-r-programming.html#cb21-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-13"><a href="introduction-to-r-programming.html#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Create sequences</span></span>
<span id="cb21-14"><a href="introduction-to-r-programming.html#cb21-14" aria-hidden="true" tabindex="-1"></a>depths <span class="ot">&lt;-</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">100</span>                    <span class="co"># Integers from 0 to 100</span></span>
<span id="cb21-15"><a href="introduction-to-r-programming.html#cb21-15" aria-hidden="true" tabindex="-1"></a>depths_seq <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="at">by=</span><span class="dv">10</span>)   <span class="co"># 0, 10, 20, ..., 100</span></span></code></pre></div>
</div>
<div id="operate-vector" class="section level4 hasAnchor" number="0.6.1.2">
<h4><span class="header-section-number">0.6.1.2</span> Vector Operations<a href="introduction-to-r-programming.html#operate-vector" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="introduction-to-r-programming.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Arithmetic on vectors (element-wise)</span></span>
<span id="cb22-2"><a href="introduction-to-r-programming.html#cb22-2" aria-hidden="true" tabindex="-1"></a>ph_values <span class="sc">*</span> <span class="dv">10</span></span>
<span id="cb22-3"><a href="introduction-to-r-programming.html#cb22-3" aria-hidden="true" tabindex="-1"></a>ph_values <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb22-4"><a href="introduction-to-r-programming.html#cb22-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-5"><a href="introduction-to-r-programming.html#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary statistics</span></span>
<span id="cb22-6"><a href="introduction-to-r-programming.html#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(ph_values)</span>
<span id="cb22-7"><a href="introduction-to-r-programming.html#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(ph_values)</span>
<span id="cb22-8"><a href="introduction-to-r-programming.html#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(ph_values)        <span class="co"># standard deviation</span></span>
<span id="cb22-9"><a href="introduction-to-r-programming.html#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(ph_values)</span>
<span id="cb22-10"><a href="introduction-to-r-programming.html#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(ph_values)</span></code></pre></div>
</div>
<div id="element-vector" class="section level4 hasAnchor" number="0.6.1.3">
<h4><span class="header-section-number">0.6.1.3</span> Accessing Vector Elements<a href="introduction-to-r-programming.html#element-vector" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="introduction-to-r-programming.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Access by index (position)</span></span>
<span id="cb23-2"><a href="introduction-to-r-programming.html#cb23-2" aria-hidden="true" tabindex="-1"></a>ph_values[<span class="dv">1</span>]        <span class="co"># First element</span></span>
<span id="cb23-3"><a href="introduction-to-r-programming.html#cb23-3" aria-hidden="true" tabindex="-1"></a>ph_values[<span class="dv">3</span>]        <span class="co"># Third element</span></span>
<span id="cb23-4"><a href="introduction-to-r-programming.html#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="introduction-to-r-programming.html#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Access multiple elements</span></span>
<span id="cb23-6"><a href="introduction-to-r-programming.html#cb23-6" aria-hidden="true" tabindex="-1"></a>ph_values[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>)]  <span class="co"># Elements 1, 3, and 5</span></span>
<span id="cb23-7"><a href="introduction-to-r-programming.html#cb23-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-8"><a href="introduction-to-r-programming.html#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Access by logical condition</span></span>
<span id="cb23-9"><a href="introduction-to-r-programming.html#cb23-9" aria-hidden="true" tabindex="-1"></a>ph_values[ph_values <span class="sc">&gt;</span> <span class="dv">6</span>]     <span class="co"># All pH values greater than 6</span></span>
<span id="cb23-10"><a href="introduction-to-r-programming.html#cb23-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-11"><a href="introduction-to-r-programming.html#cb23-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Negative indices exclude elements</span></span>
<span id="cb23-12"><a href="introduction-to-r-programming.html#cb23-12" aria-hidden="true" tabindex="-1"></a>ph_values[<span class="sc">-</span><span class="dv">1</span>]       <span class="co"># All except first</span></span>
<span id="cb23-13"><a href="introduction-to-r-programming.html#cb23-13" aria-hidden="true" tabindex="-1"></a>ph_values[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>)]  <span class="co"># All except first two</span></span></code></pre></div>
</div>
</div>
<div id="factor-data" class="section level3 hasAnchor" number="0.6.2">
<h3><span class="header-section-number">0.6.2</span> Factors<a href="introduction-to-r-programming.html#factor-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Factors</strong> are used to represent categorical data.
They store values as levels (categories).</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="introduction-to-r-programming.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a factor from character vector</span></span>
<span id="cb24-2"><a href="introduction-to-r-programming.html#cb24-2" aria-hidden="true" tabindex="-1"></a>soil_class <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">&quot;Clay&quot;</span>, <span class="st">&quot;Loam&quot;</span>, <span class="st">&quot;Sand&quot;</span>, <span class="st">&quot;Clay&quot;</span>, <span class="st">&quot;Loam&quot;</span>))</span>
<span id="cb24-3"><a href="introduction-to-r-programming.html#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(soil_class)</span>
<span id="cb24-4"><a href="introduction-to-r-programming.html#cb24-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-5"><a href="introduction-to-r-programming.html#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Check levels</span></span>
<span id="cb24-6"><a href="introduction-to-r-programming.html#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(soil_class)</span>
<span id="cb24-7"><a href="introduction-to-r-programming.html#cb24-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-8"><a href="introduction-to-r-programming.html#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Count observations per level</span></span>
<span id="cb24-9"><a href="introduction-to-r-programming.html#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(soil_class)</span>
<span id="cb24-10"><a href="introduction-to-r-programming.html#cb24-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-11"><a href="introduction-to-r-programming.html#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Ordered factors (when order matters)</span></span>
<span id="cb24-12"><a href="introduction-to-r-programming.html#cb24-12" aria-hidden="true" tabindex="-1"></a>texture_class <span class="ot">&lt;-</span> <span class="fu">factor</span>(</span>
<span id="cb24-13"><a href="introduction-to-r-programming.html#cb24-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="st">&quot;Coarse&quot;</span>, <span class="st">&quot;Fine&quot;</span>, <span class="st">&quot;Medium&quot;</span>, <span class="st">&quot;Fine&quot;</span>, <span class="st">&quot;Coarse&quot;</span>),</span>
<span id="cb24-14"><a href="introduction-to-r-programming.html#cb24-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;Coarse&quot;</span>, <span class="st">&quot;Medium&quot;</span>, <span class="st">&quot;Fine&quot;</span>),</span>
<span id="cb24-15"><a href="introduction-to-r-programming.html#cb24-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">ordered =</span> <span class="cn">TRUE</span></span>
<span id="cb24-16"><a href="introduction-to-r-programming.html#cb24-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb24-17"><a href="introduction-to-r-programming.html#cb24-17" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(texture_class)</span></code></pre></div>
</div>
<div id="matrix-data" class="section level3 hasAnchor" number="0.6.3">
<h3><span class="header-section-number">0.6.3</span> Matrices<a href="introduction-to-r-programming.html#matrix-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A <strong>matrix</strong> is a two-dimensional structure where all elements must be of the same type.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="introduction-to-r-programming.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a matrix</span></span>
<span id="cb25-2"><a href="introduction-to-r-programming.html#cb25-2" aria-hidden="true" tabindex="-1"></a>soil_matrix <span class="ot">&lt;-</span> <span class="fu">matrix</span>(</span>
<span id="cb25-3"><a href="introduction-to-r-programming.html#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="fl">5.2</span>, <span class="dv">25</span>, <span class="dv">30</span>,</span>
<span id="cb25-4"><a href="introduction-to-r-programming.html#cb25-4" aria-hidden="true" tabindex="-1"></a>    <span class="fl">6.5</span>, <span class="dv">30</span>, <span class="dv">28</span>,</span>
<span id="cb25-5"><a href="introduction-to-r-programming.html#cb25-5" aria-hidden="true" tabindex="-1"></a>    <span class="fl">7.1</span>, <span class="dv">18</span>, <span class="dv">35</span>),</span>
<span id="cb25-6"><a href="introduction-to-r-programming.html#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">nrow =</span> <span class="dv">3</span>,</span>
<span id="cb25-7"><a href="introduction-to-r-programming.html#cb25-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncol =</span> <span class="dv">3</span>,</span>
<span id="cb25-8"><a href="introduction-to-r-programming.html#cb25-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">byrow =</span> <span class="cn">TRUE</span></span>
<span id="cb25-9"><a href="introduction-to-r-programming.html#cb25-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb25-10"><a href="introduction-to-r-programming.html#cb25-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-11"><a href="introduction-to-r-programming.html#cb25-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Add column names</span></span>
<span id="cb25-12"><a href="introduction-to-r-programming.html#cb25-12" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(soil_matrix) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;pH&quot;</span>, <span class="st">&quot;Clay&quot;</span>, <span class="st">&quot;Sand&quot;</span>)</span>
<span id="cb25-13"><a href="introduction-to-r-programming.html#cb25-13" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(soil_matrix) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Sample1&quot;</span>, <span class="st">&quot;Sample2&quot;</span>, <span class="st">&quot;Sample3&quot;</span>)</span>
<span id="cb25-14"><a href="introduction-to-r-programming.html#cb25-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-15"><a href="introduction-to-r-programming.html#cb25-15" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(soil_matrix)</span>
<span id="cb25-16"><a href="introduction-to-r-programming.html#cb25-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-17"><a href="introduction-to-r-programming.html#cb25-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Access elements</span></span>
<span id="cb25-18"><a href="introduction-to-r-programming.html#cb25-18" aria-hidden="true" tabindex="-1"></a>soil_matrix[<span class="dv">1</span>, <span class="dv">2</span>]        <span class="co"># Row 1, Column 2</span></span>
<span id="cb25-19"><a href="introduction-to-r-programming.html#cb25-19" aria-hidden="true" tabindex="-1"></a>soil_matrix[<span class="dv">1</span>, ]         <span class="co"># All of row 1</span></span>
<span id="cb25-20"><a href="introduction-to-r-programming.html#cb25-20" aria-hidden="true" tabindex="-1"></a>soil_matrix[, <span class="dv">2</span>]         <span class="co"># All of column 2</span></span></code></pre></div>
</div>
<div id="dataframe" class="section level3 hasAnchor" number="0.6.4">
<h3><span class="header-section-number">0.6.4</span> Data Frames<a href="introduction-to-r-programming.html#dataframe" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A <strong>data frame</strong> is the most commonly used structure for storing datasets.
It’s like a spreadsheet: rows represent observations, columns represent variables, and different columns can have different data types.</p>
<div id="dataframe-create" class="section level4 hasAnchor" number="0.6.4.1">
<h4><span class="header-section-number">0.6.4.1</span> Creating Data Frames<a href="introduction-to-r-programming.html#dataframe-create" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="introduction-to-r-programming.html#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame</span></span>
<span id="cb26-2"><a href="introduction-to-r-programming.html#cb26-2" aria-hidden="true" tabindex="-1"></a>soil_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb26-3"><a href="introduction-to-r-programming.html#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">plot_id =</span> <span class="fu">c</span>(<span class="st">&quot;P001&quot;</span>, <span class="st">&quot;P002&quot;</span>, <span class="st">&quot;P003&quot;</span>, <span class="st">&quot;P004&quot;</span>, <span class="st">&quot;P005&quot;</span>),</span>
<span id="cb26-4"><a href="introduction-to-r-programming.html#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">latitude =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">1.25</span>, <span class="sc">-</span><span class="fl">1.27</span>, <span class="sc">-</span><span class="fl">1.23</span>, <span class="sc">-</span><span class="fl">1.29</span>, <span class="sc">-</span><span class="fl">1.26</span>),</span>
<span id="cb26-5"><a href="introduction-to-r-programming.html#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">longitude =</span> <span class="fu">c</span>(<span class="fl">36.85</span>, <span class="fl">36.83</span>, <span class="fl">36.87</span>, <span class="fl">36.81</span>, <span class="fl">36.84</span>),</span>
<span id="cb26-6"><a href="introduction-to-r-programming.html#cb26-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">ph =</span> <span class="fu">c</span>(<span class="fl">5.2</span>, <span class="fl">6.5</span>, <span class="fl">7.1</span>, <span class="fl">5.8</span>, <span class="fl">6.9</span>),</span>
<span id="cb26-7"><a href="introduction-to-r-programming.html#cb26-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">organic_carbon =</span> <span class="fu">c</span>(<span class="fl">2.1</span>, <span class="fl">3.2</span>, <span class="fl">1.8</span>, <span class="fl">2.7</span>, <span class="fl">2.9</span>),</span>
<span id="cb26-8"><a href="introduction-to-r-programming.html#cb26-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">clay_content =</span> <span class="fu">c</span>(<span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">18</span>, <span class="dv">42</span>, <span class="dv">35</span>),</span>
<span id="cb26-9"><a href="introduction-to-r-programming.html#cb26-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">soil_type =</span> <span class="fu">c</span>(<span class="st">&quot;Acrisol&quot;</span>, <span class="st">&quot;Ferralsol&quot;</span>, <span class="st">&quot;Vertisol&quot;</span>, <span class="st">&quot;Andosol&quot;</span>, <span class="st">&quot;Cambisol&quot;</span>)</span>
<span id="cb26-10"><a href="introduction-to-r-programming.html#cb26-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb26-11"><a href="introduction-to-r-programming.html#cb26-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-12"><a href="introduction-to-r-programming.html#cb26-12" aria-hidden="true" tabindex="-1"></a><span class="co"># View the data frame</span></span>
<span id="cb26-13"><a href="introduction-to-r-programming.html#cb26-13" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(soil_data)</span>
<span id="cb26-14"><a href="introduction-to-r-programming.html#cb26-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-15"><a href="introduction-to-r-programming.html#cb26-15" aria-hidden="true" tabindex="-1"></a><span class="co"># View structure</span></span>
<span id="cb26-16"><a href="introduction-to-r-programming.html#cb26-16" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(soil_data)</span>
<span id="cb26-17"><a href="introduction-to-r-programming.html#cb26-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-18"><a href="introduction-to-r-programming.html#cb26-18" aria-hidden="true" tabindex="-1"></a><span class="co"># View first few rows</span></span>
<span id="cb26-19"><a href="introduction-to-r-programming.html#cb26-19" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(soil_data)</span>
<span id="cb26-20"><a href="introduction-to-r-programming.html#cb26-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-21"><a href="introduction-to-r-programming.html#cb26-21" aria-hidden="true" tabindex="-1"></a><span class="co"># View last few rows</span></span>
<span id="cb26-22"><a href="introduction-to-r-programming.html#cb26-22" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(soil_data)</span>
<span id="cb26-23"><a href="introduction-to-r-programming.html#cb26-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-24"><a href="introduction-to-r-programming.html#cb26-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Get dimensions</span></span>
<span id="cb26-25"><a href="introduction-to-r-programming.html#cb26-25" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(soil_data)         <span class="co"># rows, columns</span></span>
<span id="cb26-26"><a href="introduction-to-r-programming.html#cb26-26" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(soil_data)        <span class="co"># number of rows</span></span>
<span id="cb26-27"><a href="introduction-to-r-programming.html#cb26-27" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(soil_data)        <span class="co"># number of columns</span></span></code></pre></div>
</div>
<div id="dataframe-access" class="section level4 hasAnchor" number="0.6.4.2">
<h4><span class="header-section-number">0.6.4.2</span> Accessing Data Frame Elements<a href="introduction-to-r-programming.html#dataframe-access" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="introduction-to-r-programming.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Access columns by name</span></span>
<span id="cb27-2"><a href="introduction-to-r-programming.html#cb27-2" aria-hidden="true" tabindex="-1"></a>soil_data<span class="sc">$</span>ph</span>
<span id="cb27-3"><a href="introduction-to-r-programming.html#cb27-3" aria-hidden="true" tabindex="-1"></a>soil_data<span class="sc">$</span>soil_type</span>
<span id="cb27-4"><a href="introduction-to-r-programming.html#cb27-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-5"><a href="introduction-to-r-programming.html#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Alternative: use brackets</span></span>
<span id="cb27-6"><a href="introduction-to-r-programming.html#cb27-6" aria-hidden="true" tabindex="-1"></a>soil_data[, <span class="st">&quot;ph&quot;</span>]</span>
<span id="cb27-7"><a href="introduction-to-r-programming.html#cb27-7" aria-hidden="true" tabindex="-1"></a>soil_data[[<span class="st">&quot;ph&quot;</span>]]</span>
<span id="cb27-8"><a href="introduction-to-r-programming.html#cb27-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-9"><a href="introduction-to-r-programming.html#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Access rows</span></span>
<span id="cb27-10"><a href="introduction-to-r-programming.html#cb27-10" aria-hidden="true" tabindex="-1"></a>soil_data[<span class="dv">1</span>, ]           <span class="co"># First row</span></span>
<span id="cb27-11"><a href="introduction-to-r-programming.html#cb27-11" aria-hidden="true" tabindex="-1"></a>soil_data[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>), ]    <span class="co"># Rows 1, 3, and 5</span></span>
<span id="cb27-12"><a href="introduction-to-r-programming.html#cb27-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-13"><a href="introduction-to-r-programming.html#cb27-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Access specific cells</span></span>
<span id="cb27-14"><a href="introduction-to-r-programming.html#cb27-14" aria-hidden="true" tabindex="-1"></a>soil_data[<span class="dv">2</span>, <span class="dv">4</span>]          <span class="co"># Row 2, Column 4 (pH of second plot)</span></span>
<span id="cb27-15"><a href="introduction-to-r-programming.html#cb27-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-16"><a href="introduction-to-r-programming.html#cb27-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Subset based on conditions</span></span>
<span id="cb27-17"><a href="introduction-to-r-programming.html#cb27-17" aria-hidden="true" tabindex="-1"></a>soil_data[soil_data<span class="sc">$</span>ph <span class="sc">&gt;</span> <span class="dv">6</span>, ]              <span class="co"># Plots with pH &gt; 6</span></span>
<span id="cb27-18"><a href="introduction-to-r-programming.html#cb27-18" aria-hidden="true" tabindex="-1"></a>soil_data[soil_data<span class="sc">$</span>soil_type <span class="sc">==</span> <span class="st">&quot;Acrisol&quot;</span>, ]  <span class="co"># Only Acrisols</span></span></code></pre></div>
</div>
<div id="dataframe-cols" class="section level4 hasAnchor" number="0.6.4.3">
<h4><span class="header-section-number">0.6.4.3</span> Adding Columns<a href="introduction-to-r-programming.html#dataframe-cols" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="introduction-to-r-programming.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a new column</span></span>
<span id="cb28-2"><a href="introduction-to-r-programming.html#cb28-2" aria-hidden="true" tabindex="-1"></a>soil_data<span class="sc">$</span>silt_content <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">40</span>, <span class="dv">35</span>, <span class="dv">52</span>, <span class="dv">23</span>, <span class="dv">30</span>)</span>
<span id="cb28-3"><a href="introduction-to-r-programming.html#cb28-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-4"><a href="introduction-to-r-programming.html#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate new columns from existing ones</span></span>
<span id="cb28-5"><a href="introduction-to-r-programming.html#cb28-5" aria-hidden="true" tabindex="-1"></a>soil_data<span class="sc">$</span>clay_plus_silt <span class="ot">&lt;-</span> soil_data<span class="sc">$</span>clay_content <span class="sc">+</span> soil_data<span class="sc">$</span>silt_content</span>
<span id="cb28-6"><a href="introduction-to-r-programming.html#cb28-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-7"><a href="introduction-to-r-programming.html#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="co"># View updated data frame</span></span>
<span id="cb28-8"><a href="introduction-to-r-programming.html#cb28-8" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(soil_data)</span></code></pre></div>
</div>
</div>
<div id="list-data" class="section level3 hasAnchor" number="0.6.5">
<h3><span class="header-section-number">0.6.5</span> Lists<a href="introduction-to-r-programming.html#list-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A <strong>list</strong> is a flexible structure that can contain elements of different types and sizes (vectors, data frames, other lists, etc.).</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="introduction-to-r-programming.html#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a list</span></span>
<span id="cb29-2"><a href="introduction-to-r-programming.html#cb29-2" aria-hidden="true" tabindex="-1"></a>soil_analysis <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb29-3"><a href="introduction-to-r-programming.html#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">site_name =</span> <span class="st">&quot;Kansas Field&quot;</span>,</span>
<span id="cb29-4"><a href="introduction-to-r-programming.html#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">coordinates =</span> <span class="fu">c</span>(<span class="at">lat =</span> <span class="sc">-</span><span class="fl">1.25</span>, <span class="at">lon =</span> <span class="fl">36.85</span>),</span>
<span id="cb29-5"><a href="introduction-to-r-programming.html#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">measurements =</span> <span class="fu">data.frame</span>(</span>
<span id="cb29-6"><a href="introduction-to-r-programming.html#cb29-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">depth =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>),</span>
<span id="cb29-7"><a href="introduction-to-r-programming.html#cb29-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">ph =</span> <span class="fu">c</span>(<span class="fl">6.5</span>, <span class="fl">6.2</span>, <span class="fl">5.8</span>, <span class="fl">5.5</span>)</span>
<span id="cb29-8"><a href="introduction-to-r-programming.html#cb29-8" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb29-9"><a href="introduction-to-r-programming.html#cb29-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">notes =</span> <span class="st">&quot;Collected during dry season&quot;</span></span>
<span id="cb29-10"><a href="introduction-to-r-programming.html#cb29-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb29-11"><a href="introduction-to-r-programming.html#cb29-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-12"><a href="introduction-to-r-programming.html#cb29-12" aria-hidden="true" tabindex="-1"></a><span class="co"># View list structure</span></span>
<span id="cb29-13"><a href="introduction-to-r-programming.html#cb29-13" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(soil_analysis)</span>
<span id="cb29-14"><a href="introduction-to-r-programming.html#cb29-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-15"><a href="introduction-to-r-programming.html#cb29-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Access list elements</span></span>
<span id="cb29-16"><a href="introduction-to-r-programming.html#cb29-16" aria-hidden="true" tabindex="-1"></a>soil_analysis<span class="sc">$</span>site_name</span>
<span id="cb29-17"><a href="introduction-to-r-programming.html#cb29-17" aria-hidden="true" tabindex="-1"></a>soil_analysis[[<span class="dv">1</span>]]           <span class="co"># First element</span></span>
<span id="cb29-18"><a href="introduction-to-r-programming.html#cb29-18" aria-hidden="true" tabindex="-1"></a>soil_analysis[[<span class="st">&quot;measurements&quot;</span>]]  <span class="co"># measurements data frame</span></span></code></pre></div>
</div>
</div>
<div id="operators" class="section level2 hasAnchor" number="0.7">
<h2><span class="header-section-number">0.7</span> Operators in R<a href="introduction-to-r-programming.html#operators" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Operators perform operations on objects. R has several types of operators:</p>
<div id="arithmetic-operators" class="section level3 hasAnchor" number="0.7.1">
<h3><span class="header-section-number">0.7.1</span> Arithmetic Operators<a href="introduction-to-r-programming.html#arithmetic-operators" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="introduction-to-r-programming.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Basic arithmetic</span></span>
<span id="cb30-2"><a href="introduction-to-r-programming.html#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="sc">+</span> <span class="dv">5</span>      <span class="co"># Addition</span></span>
<span id="cb30-3"><a href="introduction-to-r-programming.html#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="sc">-</span> <span class="dv">5</span>      <span class="co"># Subtraction</span></span>
<span id="cb30-4"><a href="introduction-to-r-programming.html#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="sc">*</span> <span class="dv">5</span>      <span class="co"># Multiplication</span></span>
<span id="cb30-5"><a href="introduction-to-r-programming.html#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="sc">/</span> <span class="dv">5</span>      <span class="co"># Division</span></span>
<span id="cb30-6"><a href="introduction-to-r-programming.html#cb30-6" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="sc">^</span> <span class="dv">2</span>      <span class="co"># Exponentiation (10 squared)</span></span>
<span id="cb30-7"><a href="introduction-to-r-programming.html#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="sc">%%</span> <span class="dv">3</span>     <span class="co"># Modulus (remainder: 10 mod 3 = 1)</span></span>
<span id="cb30-8"><a href="introduction-to-r-programming.html#cb30-8" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="sc">%/%</span> <span class="dv">3</span>    <span class="co"># Integer division (10 divided by 3 = 3)</span></span>
<span id="cb30-9"><a href="introduction-to-r-programming.html#cb30-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-10"><a href="introduction-to-r-programming.html#cb30-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Order of operations (PEMDAS)</span></span>
<span id="cb30-11"><a href="introduction-to-r-programming.html#cb30-11" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> (<span class="dv">10</span> <span class="sc">+</span> <span class="dv">5</span>) <span class="sc">*</span> <span class="dv">2</span> <span class="sc">/</span> <span class="dv">4</span> <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb30-12"><a href="introduction-to-r-programming.html#cb30-12" aria-hidden="true" tabindex="-1"></a>result</span></code></pre></div>
</div>
<div id="comparison-operators" class="section level3 hasAnchor" number="0.7.2">
<h3><span class="header-section-number">0.7.2</span> Comparison Operators<a href="introduction-to-r-programming.html#comparison-operators" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="introduction-to-r-programming.html#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Comparison operators return TRUE or FALSE</span></span>
<span id="cb31-2"><a href="introduction-to-r-programming.html#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="sc">==</span> <span class="dv">5</span>      <span class="co"># Equal to</span></span>
<span id="cb31-3"><a href="introduction-to-r-programming.html#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="sc">!=</span> <span class="dv">3</span>      <span class="co"># Not equal to</span></span>
<span id="cb31-4"><a href="introduction-to-r-programming.html#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="sc">&gt;</span> <span class="dv">3</span>       <span class="co"># Greater than</span></span>
<span id="cb31-5"><a href="introduction-to-r-programming.html#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="sc">&lt;</span> <span class="dv">3</span>       <span class="co"># Less than</span></span>
<span id="cb31-6"><a href="introduction-to-r-programming.html#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="sc">&gt;=</span> <span class="dv">5</span>      <span class="co"># Greater than or equal to</span></span>
<span id="cb31-7"><a href="introduction-to-r-programming.html#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="sc">&lt;=</span> <span class="dv">6</span>      <span class="co"># Less than or equal to</span></span>
<span id="cb31-8"><a href="introduction-to-r-programming.html#cb31-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-9"><a href="introduction-to-r-programming.html#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Use in subsetting</span></span>
<span id="cb31-10"><a href="introduction-to-r-programming.html#cb31-10" aria-hidden="true" tabindex="-1"></a>ph_values <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">5.2</span>, <span class="fl">6.5</span>, <span class="fl">7.1</span>, <span class="fl">5.8</span>, <span class="fl">6.9</span>)</span>
<span id="cb31-11"><a href="introduction-to-r-programming.html#cb31-11" aria-hidden="true" tabindex="-1"></a>ph_values <span class="sc">&gt;</span> <span class="dv">6</span>                     <span class="co"># Logical vector</span></span>
<span id="cb31-12"><a href="introduction-to-r-programming.html#cb31-12" aria-hidden="true" tabindex="-1"></a>ph_values[ph_values <span class="sc">&gt;</span> <span class="dv">6</span>]          <span class="co"># Values greater than 6</span></span></code></pre></div>
</div>
<div id="logical-operators" class="section level3 hasAnchor" number="0.7.3">
<h3><span class="header-section-number">0.7.3</span> Logical Operators<a href="introduction-to-r-programming.html#logical-operators" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="introduction-to-r-programming.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># AND operator: &amp; (element-wise) or &amp;&amp; (single values)</span></span>
<span id="cb32-2"><a href="introduction-to-r-programming.html#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="cn">TRUE</span> <span class="sc">&amp;</span> <span class="cn">TRUE</span>      <span class="co"># TRUE</span></span>
<span id="cb32-3"><a href="introduction-to-r-programming.html#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="cn">TRUE</span> <span class="sc">&amp;</span> <span class="cn">FALSE</span>     <span class="co"># FALSE</span></span>
<span id="cb32-4"><a href="introduction-to-r-programming.html#cb32-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-5"><a href="introduction-to-r-programming.html#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="co"># OR operator: | (element-wise) or || (single values)</span></span>
<span id="cb32-6"><a href="introduction-to-r-programming.html#cb32-6" aria-hidden="true" tabindex="-1"></a><span class="cn">TRUE</span> <span class="sc">|</span> <span class="cn">FALSE</span>     <span class="co"># TRUE</span></span>
<span id="cb32-7"><a href="introduction-to-r-programming.html#cb32-7" aria-hidden="true" tabindex="-1"></a><span class="cn">FALSE</span> <span class="sc">|</span> <span class="cn">FALSE</span>    <span class="co"># FALSE</span></span>
<span id="cb32-8"><a href="introduction-to-r-programming.html#cb32-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-9"><a href="introduction-to-r-programming.html#cb32-9" aria-hidden="true" tabindex="-1"></a><span class="co"># NOT operator: !</span></span>
<span id="cb32-10"><a href="introduction-to-r-programming.html#cb32-10" aria-hidden="true" tabindex="-1"></a><span class="sc">!</span><span class="cn">TRUE</span>            <span class="co"># FALSE</span></span>
<span id="cb32-11"><a href="introduction-to-r-programming.html#cb32-11" aria-hidden="true" tabindex="-1"></a><span class="sc">!</span><span class="cn">FALSE</span>           <span class="co"># TRUE</span></span>
<span id="cb32-12"><a href="introduction-to-r-programming.html#cb32-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-13"><a href="introduction-to-r-programming.html#cb32-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Combining conditions</span></span>
<span id="cb32-14"><a href="introduction-to-r-programming.html#cb32-14" aria-hidden="true" tabindex="-1"></a>ph_values <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">5.2</span>, <span class="fl">6.5</span>, <span class="fl">7.1</span>, <span class="fl">5.8</span>, <span class="fl">6.9</span>)</span>
<span id="cb32-15"><a href="introduction-to-r-programming.html#cb32-15" aria-hidden="true" tabindex="-1"></a>clay_content <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">18</span>, <span class="dv">42</span>, <span class="dv">35</span>)</span>
<span id="cb32-16"><a href="introduction-to-r-programming.html#cb32-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-17"><a href="introduction-to-r-programming.html#cb32-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Find samples with pH &gt; 6 AND clay &gt; 25</span></span>
<span id="cb32-18"><a href="introduction-to-r-programming.html#cb32-18" aria-hidden="true" tabindex="-1"></a>ph_values <span class="sc">&gt;</span> <span class="dv">6</span> <span class="sc">&amp;</span> clay_content <span class="sc">&gt;</span> <span class="dv">25</span></span>
<span id="cb32-19"><a href="introduction-to-r-programming.html#cb32-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-20"><a href="introduction-to-r-programming.html#cb32-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Find samples with pH &gt; 6 OR clay &gt; 40</span></span>
<span id="cb32-21"><a href="introduction-to-r-programming.html#cb32-21" aria-hidden="true" tabindex="-1"></a>ph_values <span class="sc">&gt;</span> <span class="dv">6</span> <span class="sc">|</span> clay_content <span class="sc">&gt;</span> <span class="dv">40</span></span></code></pre></div>
</div>
</div>
<div id="conditional-statements" class="section level2 hasAnchor" number="0.8">
<h2><span class="header-section-number">0.8</span> Control Structures: Conditional Statements<a href="introduction-to-r-programming.html#conditional-statements" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Conditional statements let your code make decisions—running different blocks depending on whether a condition is <code>TRUE</code> or <code>FALSE</code>.</p>
<div id="ifelse-statements" class="section level3 hasAnchor" number="0.8.1">
<h3><span class="header-section-number">0.8.1</span> If-Else Statements<a href="introduction-to-r-programming.html#ifelse-statements" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Use <code>if</code> / <code>else</code> when you are checking <strong>a single condition</strong> (one TRUE/FALSE value).</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="introduction-to-r-programming.html#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Basic if statement</span></span>
<span id="cb33-2"><a href="introduction-to-r-programming.html#cb33-2" aria-hidden="true" tabindex="-1"></a>ph_value <span class="ot">&lt;-</span> <span class="fl">7.5</span></span>
<span id="cb33-3"><a href="introduction-to-r-programming.html#cb33-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-4"><a href="introduction-to-r-programming.html#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Basic if statement</span></span>
<span id="cb33-5"><a href="introduction-to-r-programming.html#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (ph_value <span class="sc">&gt;</span> <span class="dv">7</span>) {</span>
<span id="cb33-6"><a href="introduction-to-r-programming.html#cb33-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;Alkaline soil&quot;</span>)</span>
<span id="cb33-7"><a href="introduction-to-r-programming.html#cb33-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb33-8"><a href="introduction-to-r-programming.html#cb33-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-9"><a href="introduction-to-r-programming.html#cb33-9" aria-hidden="true" tabindex="-1"></a><span class="co"># If-else</span></span>
<span id="cb33-10"><a href="introduction-to-r-programming.html#cb33-10" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (ph_value <span class="sc">&gt;</span> <span class="dv">7</span>) {</span>
<span id="cb33-11"><a href="introduction-to-r-programming.html#cb33-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;Alkaline soil&quot;</span>)</span>
<span id="cb33-12"><a href="introduction-to-r-programming.html#cb33-12" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb33-13"><a href="introduction-to-r-programming.html#cb33-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;Neutral or acidic soil&quot;</span>)</span>
<span id="cb33-14"><a href="introduction-to-r-programming.html#cb33-14" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb33-15"><a href="introduction-to-r-programming.html#cb33-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-16"><a href="introduction-to-r-programming.html#cb33-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Multiple conditions (only the first TRUE branch runs)</span></span>
<span id="cb33-17"><a href="introduction-to-r-programming.html#cb33-17" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (ph_value <span class="sc">&gt;</span> <span class="fl">7.5</span>) {</span>
<span id="cb33-18"><a href="introduction-to-r-programming.html#cb33-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;Strongly alkaline&quot;</span>)</span>
<span id="cb33-19"><a href="introduction-to-r-programming.html#cb33-19" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (ph_value <span class="sc">&gt;</span> <span class="dv">7</span>) {</span>
<span id="cb33-20"><a href="introduction-to-r-programming.html#cb33-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;Slightly alkaline&quot;</span>)</span>
<span id="cb33-21"><a href="introduction-to-r-programming.html#cb33-21" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (ph_value <span class="sc">==</span> <span class="dv">7</span>) {</span>
<span id="cb33-22"><a href="introduction-to-r-programming.html#cb33-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;Neutral&quot;</span>)</span>
<span id="cb33-23"><a href="introduction-to-r-programming.html#cb33-23" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb33-24"><a href="introduction-to-r-programming.html#cb33-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;Acidic&quot;</span>)</span>
<span id="cb33-25"><a href="introduction-to-r-programming.html#cb33-25" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div class="highlights">
<p><code>if (...)</code> expects a single logical value.
If you have a vector of values, use a vectorized approach such as <code>ifelse()</code>, <code>cut()</code>, or <code>case_when()</code>.</p>
</div>
</div>
<div id="v-ifelse-statements" class="section level3 hasAnchor" number="0.8.2">
<h3><span class="header-section-number">0.8.2</span> Vectorized If-Else: <code>ifelse()</code><a href="introduction-to-r-programming.html#v-ifelse-statements" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>ifelse()</code> is vectorized: it applies a condition to each element of a vector.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="introduction-to-r-programming.html#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Vectorized conditional assignment</span></span>
<span id="cb34-2"><a href="introduction-to-r-programming.html#cb34-2" aria-hidden="true" tabindex="-1"></a>ph_values <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">5.2</span>, <span class="fl">6.5</span>, <span class="fl">7.1</span>, <span class="fl">5.8</span>, <span class="fl">7.0</span>)</span>
<span id="cb34-3"><a href="introduction-to-r-programming.html#cb34-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-4"><a href="introduction-to-r-programming.html#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Simple two-class example</span></span>
<span id="cb34-5"><a href="introduction-to-r-programming.html#cb34-5" aria-hidden="true" tabindex="-1"></a>soil_reaction <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(ph_values <span class="sc">&gt;</span> <span class="dv">7</span>, <span class="st">&quot;Alkaline&quot;</span>, <span class="st">&quot;Not alkaline&quot;</span>)</span>
<span id="cb34-6"><a href="introduction-to-r-programming.html#cb34-6" aria-hidden="true" tabindex="-1"></a>soil_reaction</span></code></pre></div>
</div>
<div id="cut-statements" class="section level3 hasAnchor" number="0.8.3">
<h3><span class="header-section-number">0.8.3</span> Vectorized Cut: <code>cut()</code><a href="introduction-to-r-programming.html#cut-statements" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Use <code>cut()</code> when you have a <strong>numeric</strong> variable and you want to classify values into <strong>interval-based categories</strong> (bins), such as pH classes, depth intervals, or temperature ranges. It is especially useful when:</p>
<ul>
<li>the variable is <strong>continuous or ordered</strong> (numeric),</li>
<li>you can define meaningful <strong>break points</strong>, and</li>
<li>you want a clear, readable alternative to many nested conditions.</li>
</ul>
<p>For multiple classes, <code>cut()</code> is often easier to read than nested <code>ifelse()</code>:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="introduction-to-r-programming.html#cb35-1" aria-hidden="true" tabindex="-1"></a>soil_class <span class="ot">&lt;-</span> <span class="fu">cut</span>(</span>
<span id="cb35-2"><a href="introduction-to-r-programming.html#cb35-2" aria-hidden="true" tabindex="-1"></a>  ph_values,</span>
<span id="cb35-3"><a href="introduction-to-r-programming.html#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">breaks =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="cn">Inf</span>, <span class="fl">5.5</span>, <span class="fl">7.0</span>, <span class="cn">Inf</span>),</span>
<span id="cb35-4"><a href="introduction-to-r-programming.html#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Acidic&quot;</span>, <span class="st">&quot;Neutral&quot;</span>, <span class="st">&quot;Alkaline&quot;</span>),</span>
<span id="cb35-5"><a href="introduction-to-r-programming.html#cb35-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">right =</span> <span class="cn">TRUE</span>, <span class="at">include.lowest =</span> <span class="cn">TRUE</span></span>
<span id="cb35-6"><a href="introduction-to-r-programming.html#cb35-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb35-7"><a href="introduction-to-r-programming.html#cb35-7" aria-hidden="true" tabindex="-1"></a>soil_class</span>
<span id="cb35-8"><a href="introduction-to-r-programming.html#cb35-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-9"><a href="introduction-to-r-programming.html#cb35-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Notes:</span></span>
<span id="cb35-10"><a href="introduction-to-r-programming.html#cb35-10" aria-hidden="true" tabindex="-1"></a><span class="co"># - `right = TRUE` means intervals are **right-closed** (e.g., `(5.5, 7.0]`).</span></span>
<span id="cb35-11"><a href="introduction-to-r-programming.html#cb35-11" aria-hidden="true" tabindex="-1"></a><span class="co"># - `include.lowest = TRUE` ensures the smallest value is included in the first interval.</span></span></code></pre></div>
</div>
</div>
<div id="control-structures" class="section level2 hasAnchor" number="0.9">
<h2><span class="header-section-number">0.9</span> Control Structures: Loops<a href="introduction-to-r-programming.html#control-structures" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Loops in R are used to <strong>repeat a block of code</strong> multiple times. They are helpful when you need to automate repetitive tasks, such as performing calculations over a sequence of values or processing each element of a dataset.</p>
<p>R provides several loop constructs, but the most commonly used are <code>for</code> and <code>while</code>.</p>
<div id="for-loop" class="section level3 hasAnchor" number="0.9.1">
<h3><span class="header-section-number">0.9.1</span> For Loops<a href="introduction-to-r-programming.html#for-loop" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Use a <code>for</code> loop when you want to iterate over a sequence or over the elements of an object.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="introduction-to-r-programming.html#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through a sequence</span></span>
<span id="cb36-2"><a href="introduction-to-r-programming.html#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) {</span>
<span id="cb36-3"><a href="introduction-to-r-programming.html#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;Iteration:&quot;</span>, i))</span>
<span id="cb36-4"><a href="introduction-to-r-programming.html#cb36-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb36-5"><a href="introduction-to-r-programming.html#cb36-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-6"><a href="introduction-to-r-programming.html#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through a vector</span></span>
<span id="cb36-7"><a href="introduction-to-r-programming.html#cb36-7" aria-hidden="true" tabindex="-1"></a>soil_types <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Acrisol&quot;</span>, <span class="st">&quot;Ferralsol&quot;</span>, <span class="st">&quot;Vertisol&quot;</span>)</span>
<span id="cb36-8"><a href="introduction-to-r-programming.html#cb36-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-9"><a href="introduction-to-r-programming.html#cb36-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (soil <span class="cf">in</span> soil_types) {</span>
<span id="cb36-10"><a href="introduction-to-r-programming.html#cb36-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;Soil type:&quot;</span>, soil))</span>
<span id="cb36-11"><a href="introduction-to-r-programming.html#cb36-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb36-12"><a href="introduction-to-r-programming.html#cb36-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-13"><a href="introduction-to-r-programming.html#cb36-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop with conditional logic</span></span>
<span id="cb36-14"><a href="introduction-to-r-programming.html#cb36-14" aria-hidden="true" tabindex="-1"></a>ph_values <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">5.2</span>, <span class="fl">6.5</span>, <span class="fl">7.1</span>, <span class="fl">5.8</span>, <span class="fl">6.9</span>)</span>
<span id="cb36-15"><a href="introduction-to-r-programming.html#cb36-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-16"><a href="introduction-to-r-programming.html#cb36-16" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(ph_values)) {</span>
<span id="cb36-17"><a href="introduction-to-r-programming.html#cb36-17" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (ph_values[i] <span class="sc">&gt;</span> <span class="dv">6</span>) {</span>
<span id="cb36-18"><a href="introduction-to-r-programming.html#cb36-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;Sample&quot;</span>, i, <span class="st">&quot;has pH =&quot;</span>, ph_values[i], <span class="st">&quot;(Acceptable)&quot;</span>))</span>
<span id="cb36-19"><a href="introduction-to-r-programming.html#cb36-19" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb36-20"><a href="introduction-to-r-programming.html#cb36-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;Sample&quot;</span>, i, <span class="st">&quot;has pH =&quot;</span>, ph_values[i], <span class="st">&quot;(Too acidic)&quot;</span>))</span>
<span id="cb36-21"><a href="introduction-to-r-programming.html#cb36-21" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb36-22"><a href="introduction-to-r-programming.html#cb36-22" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="while-loop" class="section level3 hasAnchor" number="0.9.2">
<h3><span class="header-section-number">0.9.2</span> While Loops<a href="introduction-to-r-programming.html#while-loop" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A <code>while</code> loop repeats as long as a condition is <code>TRUE</code>. It is useful when you do not know in advance how many iterations you will need.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="introduction-to-r-programming.html#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># While loop continues until condition is FALSE</span></span>
<span id="cb37-2"><a href="introduction-to-r-programming.html#cb37-2" aria-hidden="true" tabindex="-1"></a>counter <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb37-3"><a href="introduction-to-r-programming.html#cb37-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-4"><a href="introduction-to-r-programming.html#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> (counter <span class="sc">&lt;=</span> <span class="dv">5</span>) {</span>
<span id="cb37-5"><a href="introduction-to-r-programming.html#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;Counter value:&quot;</span>, counter))</span>
<span id="cb37-6"><a href="introduction-to-r-programming.html#cb37-6" aria-hidden="true" tabindex="-1"></a>  counter <span class="ot">&lt;-</span> counter <span class="sc">+</span> <span class="dv">1</span>   <span class="co"># Increment counter</span></span>
<span id="cb37-7"><a href="introduction-to-r-programming.html#cb37-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div class="warning-box">
<p><strong>Caution:</strong></p>
<ul>
<li>Always ensure loop conditions eventually become <code>FALSE</code> to avoid infinite loops!</li>
</ul>
</div>
</div>
</div>
<div id="r-funtions" class="section level2 hasAnchor" number="0.10">
<h2><span class="header-section-number">0.10</span> Functions in R<a href="introduction-to-r-programming.html#r-funtions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Functions are reusable blocks of code that take <strong>inputs</strong> (arguments), perform a task, and return an <strong>output</strong>. They help you avoid repeating code and make your scripts easier to read and maintain.</p>
<div id="built-funtions" class="section level3 hasAnchor" number="0.10.1">
<h3><span class="header-section-number">0.10.1</span> Using Built-in Functions<a href="introduction-to-r-programming.html#built-funtions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>R comes with thousands of built-in functions. You can view help pages with <code>?function_name</code> (e.g., <code>?mean</code>).</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="introduction-to-r-programming.html#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Statistical functions</span></span>
<span id="cb38-2"><a href="introduction-to-r-programming.html#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">15</span>, <span class="dv">20</span>))</span>
<span id="cb38-3"><a href="introduction-to-r-programming.html#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(<span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">15</span>, <span class="dv">20</span>))</span>
<span id="cb38-4"><a href="introduction-to-r-programming.html#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(<span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">15</span>, <span class="dv">20</span>))</span>
<span id="cb38-5"><a href="introduction-to-r-programming.html#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">15</span>, <span class="dv">20</span>))</span>
<span id="cb38-6"><a href="introduction-to-r-programming.html#cb38-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-7"><a href="introduction-to-r-programming.html#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="co"># String functions</span></span>
<span id="cb38-8"><a href="introduction-to-r-programming.html#cb38-8" aria-hidden="true" tabindex="-1"></a><span class="fu">toupper</span>(<span class="st">&quot;acrisol&quot;</span>)</span>
<span id="cb38-9"><a href="introduction-to-r-programming.html#cb38-9" aria-hidden="true" tabindex="-1"></a><span class="fu">tolower</span>(<span class="st">&quot;FERRALSOL&quot;</span>)</span>
<span id="cb38-10"><a href="introduction-to-r-programming.html#cb38-10" aria-hidden="true" tabindex="-1"></a><span class="fu">nchar</span>(<span class="st">&quot;soil science&quot;</span>)         <span class="co"># Count characters</span></span>
<span id="cb38-11"><a href="introduction-to-r-programming.html#cb38-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-12"><a href="introduction-to-r-programming.html#cb38-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Math functions</span></span>
<span id="cb38-13"><a href="introduction-to-r-programming.html#cb38-13" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="dv">16</span>)</span>
<span id="cb38-14"><a href="introduction-to-r-programming.html#cb38-14" aria-hidden="true" tabindex="-1"></a><span class="fu">log</span>(<span class="dv">10</span>)</span>
<span id="cb38-15"><a href="introduction-to-r-programming.html#cb38-15" aria-hidden="true" tabindex="-1"></a><span class="fu">exp</span>(<span class="dv">2</span>)</span>
<span id="cb38-16"><a href="introduction-to-r-programming.html#cb38-16" aria-hidden="true" tabindex="-1"></a><span class="fu">abs</span>(<span class="sc">-</span><span class="dv">5</span>)</span>
<span id="cb38-17"><a href="introduction-to-r-programming.html#cb38-17" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fl">3.14159</span>, <span class="dv">2</span>)</span></code></pre></div>
<div class="highlights">
<p>Function <strong>arguments</strong> can be provided by position (e.g., round(3.14159, 2)) or by name (e.g., round(<strong>x =</strong> 3.14159, <strong>digits =</strong> 2)).
Using names is often clearer and reduces mistakes.</p>
</div>
</div>
<div id="build-functions" class="section level3 hasAnchor" number="0.10.2">
<h3><span class="header-section-number">0.10.2</span> Creating Custom Functions<a href="introduction-to-r-programming.html#build-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You can write your own functions using <code>function()</code>:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="introduction-to-r-programming.html#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example: Bulk density (mass / volume)</span></span>
<span id="cb39-2"><a href="introduction-to-r-programming.html#cb39-2" aria-hidden="true" tabindex="-1"></a>calculate_bulk_density <span class="ot">&lt;-</span> <span class="cf">function</span>(mass, volume) {</span>
<span id="cb39-3"><a href="introduction-to-r-programming.html#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">any</span>(volume <span class="sc">&lt;=</span> <span class="dv">0</span>)) <span class="fu">stop</span>(<span class="st">&quot;volume must be &gt; 0&quot;</span>)</span>
<span id="cb39-4"><a href="introduction-to-r-programming.html#cb39-4" aria-hidden="true" tabindex="-1"></a>  mass <span class="sc">/</span> volume</span>
<span id="cb39-5"><a href="introduction-to-r-programming.html#cb39-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb39-6"><a href="introduction-to-r-programming.html#cb39-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-7"><a href="introduction-to-r-programming.html#cb39-7" aria-hidden="true" tabindex="-1"></a><span class="fu">calculate_bulk_density</span>(<span class="at">mass =</span> <span class="dv">150</span>, <span class="at">volume =</span> <span class="dv">100</span>)</span>
<span id="cb39-8"><a href="introduction-to-r-programming.html#cb39-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-9"><a href="introduction-to-r-programming.html#cb39-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Function with a default argument</span></span>
<span id="cb39-10"><a href="introduction-to-r-programming.html#cb39-10" aria-hidden="true" tabindex="-1"></a>classify_soil_ph <span class="ot">&lt;-</span> <span class="cf">function</span>(ph, <span class="at">threshold =</span> <span class="dv">7</span>) {</span>
<span id="cb39-11"><a href="introduction-to-r-programming.html#cb39-11" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (ph <span class="sc">&gt;</span> threshold) {</span>
<span id="cb39-12"><a href="introduction-to-r-programming.html#cb39-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Alkaline&quot;</span></span>
<span id="cb39-13"><a href="introduction-to-r-programming.html#cb39-13" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (ph <span class="sc">==</span> threshold) {</span>
<span id="cb39-14"><a href="introduction-to-r-programming.html#cb39-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Neutral&quot;</span></span>
<span id="cb39-15"><a href="introduction-to-r-programming.html#cb39-15" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb39-16"><a href="introduction-to-r-programming.html#cb39-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Acidic&quot;</span></span>
<span id="cb39-17"><a href="introduction-to-r-programming.html#cb39-17" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb39-18"><a href="introduction-to-r-programming.html#cb39-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb39-19"><a href="introduction-to-r-programming.html#cb39-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-20"><a href="introduction-to-r-programming.html#cb39-20" aria-hidden="true" tabindex="-1"></a><span class="fu">classify_soil_ph</span>(<span class="fl">6.5</span>)</span>
<span id="cb39-21"><a href="introduction-to-r-programming.html#cb39-21" aria-hidden="true" tabindex="-1"></a><span class="fu">classify_soil_ph</span>(<span class="fl">6.5</span>, <span class="at">threshold =</span> <span class="dv">6</span>)</span></code></pre></div>
<div class="highlights">
<p><code>return()</code> is optional in many cases, R returns the last evaluated expression.
You can still use <code>return()</code> when you want to exit early or make the function’s output explicit.</p>
</div>
</div>
<div id="arguments-functions" class="section level3 hasAnchor" number="0.10.3">
<h3><span class="header-section-number">0.10.3</span> Function Arguments and Defaults<a href="introduction-to-r-programming.html#arguments-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="introduction-to-r-programming.html#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># SOC stock calculation (example)</span></span>
<span id="cb40-2"><a href="introduction-to-r-programming.html#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Assumptions:</span></span>
<span id="cb40-3"><a href="introduction-to-r-programming.html#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="co"># - soc_percent is in %</span></span>
<span id="cb40-4"><a href="introduction-to-r-programming.html#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="co"># - bulk_density is in g/cm^3</span></span>
<span id="cb40-5"><a href="introduction-to-r-programming.html#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="co"># - depth is in cm</span></span>
<span id="cb40-6"><a href="introduction-to-r-programming.html#cb40-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Output: SOC stock in Mg/ha</span></span>
<span id="cb40-7"><a href="introduction-to-r-programming.html#cb40-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-8"><a href="introduction-to-r-programming.html#cb40-8" aria-hidden="true" tabindex="-1"></a>calculate_soc_stock <span class="ot">&lt;-</span> <span class="cf">function</span>(soc_percent, bulk_density, depth, <span class="at">coarse_fragment =</span> <span class="dv">0</span>) {</span>
<span id="cb40-9"><a href="introduction-to-r-programming.html#cb40-9" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">any</span>(coarse_fragment <span class="sc">&lt;</span> <span class="dv">0</span> <span class="sc">|</span> coarse_fragment <span class="sc">&gt;</span> <span class="dv">100</span>)) <span class="fu">stop</span>(<span class="st">&quot;coarse_fragment must be between 0 and 100&quot;</span>)</span>
<span id="cb40-10"><a href="introduction-to-r-programming.html#cb40-10" aria-hidden="true" tabindex="-1"></a>  soc_percent <span class="sc">*</span> bulk_density <span class="sc">*</span> depth <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">-</span> coarse_fragment <span class="sc">/</span> <span class="dv">100</span>)</span>
<span id="cb40-11"><a href="introduction-to-r-programming.html#cb40-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb40-12"><a href="introduction-to-r-programming.html#cb40-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-13"><a href="introduction-to-r-programming.html#cb40-13" aria-hidden="true" tabindex="-1"></a><span class="fu">calculate_soc_stock</span>(<span class="at">soc_percent =</span> <span class="fl">2.5</span>, <span class="at">bulk_density =</span> <span class="fl">1.3</span>, <span class="at">depth =</span> <span class="dv">30</span>)</span>
<span id="cb40-14"><a href="introduction-to-r-programming.html#cb40-14" aria-hidden="true" tabindex="-1"></a><span class="fu">calculate_soc_stock</span>(<span class="at">soc_percent =</span> <span class="fl">2.5</span>, <span class="at">bulk_density =</span> <span class="fl">1.3</span>, <span class="at">depth =</span> <span class="dv">30</span>, <span class="at">coarse_fragment =</span> <span class="dv">15</span>)</span></code></pre></div>
</div>
</div>
<div id="R-data-manipulation" class="section level2 hasAnchor" number="0.11">
<h2><span class="header-section-number">0.11</span> Data Manipulation with Base R<a href="introduction-to-r-programming.html#R-data-manipulation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This section shows common data manipulation tasks using base R: filtering rows, selecting columns, sorting, and summarizing by groups.</p>
<div id="R-data-subset" class="section level3 hasAnchor" number="0.11.1">
<h3><span class="header-section-number">0.11.1</span> Subsetting and Filtering<a href="introduction-to-r-programming.html#R-data-subset" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Use subsetting and filtering to <strong>extract only certain rows or columns</strong> from a dataset. This is often the first step when you want to focus on data that meet specific criteria.</p>
<p>In data frames, data access is organized by <em>rows</em> and <em>columns</em> using the pattern <code>data[rows, columns]</code>, where:</p>
<ul>
<li><p><code>rows</code> specifies which observations (records) to keep. It can be a number, a logical condition, or a vector of indices.</p></li>
<li><p><code>columns</code> specifies which variables to keep. It can be a name, a position, or a vector of indices.</p></li>
</ul>
<p>In this context, <strong>filtering</strong> usually refers to selecting rows, while <strong>subsetting</strong> often refers to selecting columns. In the example below, we use this structure to filter rows and subset columns from a <code>soil_data</code> data frame.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="introduction-to-r-programming.html#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example data frame</span></span>
<span id="cb41-2"><a href="introduction-to-r-programming.html#cb41-2" aria-hidden="true" tabindex="-1"></a>soil_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb41-3"><a href="introduction-to-r-programming.html#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">plot_id =</span> <span class="fu">c</span>(<span class="st">&quot;P001&quot;</span>, <span class="st">&quot;P002&quot;</span>, <span class="st">&quot;P003&quot;</span>, <span class="st">&quot;P004&quot;</span>, <span class="st">&quot;P005&quot;</span>),</span>
<span id="cb41-4"><a href="introduction-to-r-programming.html#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">latitude =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">1.25</span>, <span class="sc">-</span><span class="fl">1.27</span>, <span class="sc">-</span><span class="fl">1.23</span>, <span class="sc">-</span><span class="fl">1.29</span>, <span class="sc">-</span><span class="fl">1.26</span>),</span>
<span id="cb41-5"><a href="introduction-to-r-programming.html#cb41-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">longitude =</span> <span class="fu">c</span>(<span class="fl">36.85</span>, <span class="fl">36.83</span>, <span class="fl">36.87</span>, <span class="fl">36.81</span>, <span class="fl">36.84</span>),</span>
<span id="cb41-6"><a href="introduction-to-r-programming.html#cb41-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">ph =</span> <span class="fu">c</span>(<span class="fl">5.2</span>, <span class="fl">6.5</span>, <span class="fl">7.1</span>, <span class="fl">5.8</span>, <span class="fl">6.9</span>),</span>
<span id="cb41-7"><a href="introduction-to-r-programming.html#cb41-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">clay_content =</span> <span class="fu">c</span>(<span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">18</span>, <span class="dv">42</span>, <span class="dv">35</span>),</span>
<span id="cb41-8"><a href="introduction-to-r-programming.html#cb41-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">soil_type =</span> <span class="fu">c</span>(<span class="st">&quot;Acrisol&quot;</span>, <span class="st">&quot;Ferralsol&quot;</span>, <span class="st">&quot;Vertisol&quot;</span>, <span class="st">&quot;Andosol&quot;</span>, <span class="st">&quot;Cambisol&quot;</span>)</span>
<span id="cb41-9"><a href="introduction-to-r-programming.html#cb41-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb41-10"><a href="introduction-to-r-programming.html#cb41-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-11"><a href="introduction-to-r-programming.html#cb41-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Select column by index: Show second column</span></span>
<span id="cb41-12"><a href="introduction-to-r-programming.html#cb41-12" aria-hidden="true" tabindex="-1"></a>soil_data[, <span class="dv">2</span>]</span>
<span id="cb41-13"><a href="introduction-to-r-programming.html#cb41-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Select column by index: Show first and third columns</span></span>
<span id="cb41-14"><a href="introduction-to-r-programming.html#cb41-14" aria-hidden="true" tabindex="-1"></a>soil_data[, <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>]</span>
<span id="cb41-15"><a href="introduction-to-r-programming.html#cb41-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Select column  by name: Show texture columns</span></span>
<span id="cb41-16"><a href="introduction-to-r-programming.html#cb41-16" aria-hidden="true" tabindex="-1"></a>soil_data[, <span class="fu">c</span>(<span class="st">&quot;clay&quot;</span>,<span class="st">&quot;silt&quot;</span>,<span class="st">&quot;sand&quot;</span>)]</span>
<span id="cb41-17"><a href="introduction-to-r-programming.html#cb41-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter rows by index: keep first 2 records in the data frame</span></span>
<span id="cb41-18"><a href="introduction-to-r-programming.html#cb41-18" aria-hidden="true" tabindex="-1"></a>soil_data[<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>),]</span>
<span id="cb41-19"><a href="introduction-to-r-programming.html#cb41-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-20"><a href="introduction-to-r-programming.html#cb41-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter rows by index: keep texture properties for the first 100 records in the data frame</span></span>
<span id="cb41-21"><a href="introduction-to-r-programming.html#cb41-21" aria-hidden="true" tabindex="-1"></a>soil_data[<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>), <span class="fu">c</span>(<span class="st">&quot;clay&quot;</span>,<span class="st">&quot;silt&quot;</span>,<span class="st">&quot;sand&quot;</span>)]</span>
<span id="cb41-22"><a href="introduction-to-r-programming.html#cb41-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-23"><a href="introduction-to-r-programming.html#cb41-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter rows based on conditions</span></span>
<span id="cb41-24"><a href="introduction-to-r-programming.html#cb41-24" aria-hidden="true" tabindex="-1"></a>high_ph <span class="ot">&lt;-</span> soil_data[soil_data<span class="sc">$</span>ph <span class="sc">&gt;</span> <span class="dv">6</span>, ]</span>
<span id="cb41-25"><a href="introduction-to-r-programming.html#cb41-25" aria-hidden="true" tabindex="-1"></a>high_ph</span>
<span id="cb41-26"><a href="introduction-to-r-programming.html#cb41-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-27"><a href="introduction-to-r-programming.html#cb41-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Multiple conditions with &amp; and |</span></span>
<span id="cb41-28"><a href="introduction-to-r-programming.html#cb41-28" aria-hidden="true" tabindex="-1"></a>high_ph_clay <span class="ot">&lt;-</span> soil_data[soil_data<span class="sc">$</span>ph <span class="sc">&gt;</span> <span class="dv">6</span> <span class="sc">&amp;</span> soil_data<span class="sc">$</span>clay_content <span class="sc">&gt;</span> <span class="dv">25</span>, ]</span>
<span id="cb41-29"><a href="introduction-to-r-programming.html#cb41-29" aria-hidden="true" tabindex="-1"></a>high_ph_clay</span>
<span id="cb41-30"><a href="introduction-to-r-programming.html#cb41-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-31"><a href="introduction-to-r-programming.html#cb41-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Select columns by index: Show second column</span></span>
<span id="cb41-32"><a href="introduction-to-r-programming.html#cb41-32" aria-hidden="true" tabindex="-1"></a>subset_data <span class="ot">&lt;-</span> soil_data[, <span class="dv">2</span>]</span>
<span id="cb41-33"><a href="introduction-to-r-programming.html#cb41-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Select several columns by index</span></span>
<span id="cb41-34"><a href="introduction-to-r-programming.html#cb41-34" aria-hidden="true" tabindex="-1"></a>subset_data <span class="ot">&lt;-</span> soil_data[, <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]</span>
<span id="cb41-35"><a href="introduction-to-r-programming.html#cb41-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-36"><a href="introduction-to-r-programming.html#cb41-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Select by name</span></span>
<span id="cb41-37"><a href="introduction-to-r-programming.html#cb41-37" aria-hidden="true" tabindex="-1"></a>subset_data <span class="ot">&lt;-</span> soil_data[, <span class="fu">c</span>(<span class="st">&quot;plot_id&quot;</span>, <span class="st">&quot;ph&quot;</span>, <span class="st">&quot;soil_type&quot;</span>)]</span>
<span id="cb41-38"><a href="introduction-to-r-programming.html#cb41-38" aria-hidden="true" tabindex="-1"></a>subset_data</span></code></pre></div>
</div>
<div id="delete-cols" class="section level3 hasAnchor" number="0.11.2">
<h3><span class="header-section-number">0.11.2</span> Deleting Columns<a href="introduction-to-r-programming.html#delete-cols" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You can remove columns or rows from a data frame using names, indices, or logical conditions. This is useful when you want to drop unnecessary variables, remove incomplete records, or exclude outliers before analysis.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="introduction-to-r-programming.html#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example data frame</span></span>
<span id="cb42-2"><a href="introduction-to-r-programming.html#cb42-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb42-3"><a href="introduction-to-r-programming.html#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Plot =</span> <span class="fu">c</span>(<span class="st">&quot;P001&quot;</span>, <span class="st">&quot;P002&quot;</span>, <span class="st">&quot;P003&quot;</span>),</span>
<span id="cb42-4"><a href="introduction-to-r-programming.html#cb42-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Clay =</span> <span class="fu">c</span>(<span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">18</span>),</span>
<span id="cb42-5"><a href="introduction-to-r-programming.html#cb42-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">Silt =</span> <span class="fu">c</span>(<span class="dv">40</span>, <span class="dv">35</span>, <span class="dv">52</span>),</span>
<span id="cb42-6"><a href="introduction-to-r-programming.html#cb42-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">pH   =</span> <span class="fu">c</span>(<span class="fl">5.2</span>, <span class="fl">6.5</span>, <span class="fl">7.1</span>)</span>
<span id="cb42-7"><a href="introduction-to-r-programming.html#cb42-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-8"><a href="introduction-to-r-programming.html#cb42-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-9"><a href="introduction-to-r-programming.html#cb42-9" aria-hidden="true" tabindex="-1"></a><span class="co"># --- Delete columns ---</span></span>
<span id="cb42-10"><a href="introduction-to-r-programming.html#cb42-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-11"><a href="introduction-to-r-programming.html#cb42-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Delete one column by name</span></span>
<span id="cb42-12"><a href="introduction-to-r-programming.html#cb42-12" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>Clay <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb42-13"><a href="introduction-to-r-programming.html#cb42-13" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>Clay <span class="ot">&lt;-</span> <span class="fu">c</span>() <span class="co"># Empty vector</span></span>
<span id="cb42-14"><a href="introduction-to-r-programming.html#cb42-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-15"><a href="introduction-to-r-programming.html#cb42-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Delete multiple columns by name</span></span>
<span id="cb42-16"><a href="introduction-to-r-programming.html#cb42-16" aria-hidden="true" tabindex="-1"></a>data[, <span class="fu">c</span>(<span class="st">&quot;Silt&quot;</span>, <span class="st">&quot;pH&quot;</span>)] <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb42-17"><a href="introduction-to-r-programming.html#cb42-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-18"><a href="introduction-to-r-programming.html#cb42-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-19"><a href="introduction-to-r-programming.html#cb42-19" aria-hidden="true" tabindex="-1"></a><span class="co"># --- Delete rows ---</span></span>
<span id="cb42-20"><a href="introduction-to-r-programming.html#cb42-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-21"><a href="introduction-to-r-programming.html#cb42-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Delete a row by index (e.g., remove the 2nd row)</span></span>
<span id="cb42-22"><a href="introduction-to-r-programming.html#cb42-22" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data[<span class="sc">-</span><span class="dv">2</span>, ]</span>
<span id="cb42-23"><a href="introduction-to-r-programming.html#cb42-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-24"><a href="introduction-to-r-programming.html#cb42-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Delete rows based on a condition (e.g., remove rows with pH &lt; 6)</span></span>
<span id="cb42-25"><a href="introduction-to-r-programming.html#cb42-25" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data[data<span class="sc">$</span>pH <span class="sc">&gt;=</span> <span class="dv">6</span>, ]</span></code></pre></div>
<div class="highlights">
<ul>
<li><p>To delete columns, use NULL (recommended) or an empty vector.</p></li>
<li><p>To delete rows, use negative indices (e.g., data[-2, ]) or a logical condition (e.g., data[data$pH &gt;= 6, ]).</p></li>
</ul>
</div>
</div>
<div id="sort-rows" class="section level3 hasAnchor" number="0.11.3">
<h3><span class="header-section-number">0.11.3</span> Sorting Data<a href="introduction-to-r-programming.html#sort-rows" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Sorting is useful for quickly identifying extreme values (e.g., highest pH, highest clay content) or for preparing tables for reporting.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="introduction-to-r-programming.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort by pH (ascending)</span></span>
<span id="cb43-2"><a href="introduction-to-r-programming.html#cb43-2" aria-hidden="true" tabindex="-1"></a>soil_data[<span class="fu">order</span>(soil_data<span class="sc">$</span>ph), ]</span>
<span id="cb43-3"><a href="introduction-to-r-programming.html#cb43-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-4"><a href="introduction-to-r-programming.html#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort by pH (descending)</span></span>
<span id="cb43-5"><a href="introduction-to-r-programming.html#cb43-5" aria-hidden="true" tabindex="-1"></a>soil_data[<span class="fu">order</span>(<span class="sc">-</span>soil_data<span class="sc">$</span>ph), ]</span>
<span id="cb43-6"><a href="introduction-to-r-programming.html#cb43-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-7"><a href="introduction-to-r-programming.html#cb43-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort by multiple columns</span></span>
<span id="cb43-8"><a href="introduction-to-r-programming.html#cb43-8" aria-hidden="true" tabindex="-1"></a>soil_data[<span class="fu">order</span>(soil_data<span class="sc">$</span>soil_type, soil_data<span class="sc">$</span>ph), ]</span></code></pre></div>
</div>
<div id="aggregate-rows" class="section level3 hasAnchor" number="0.11.4">
<h3><span class="header-section-number">0.11.4</span> Aggregating Data<a href="introduction-to-r-programming.html#aggregate-rows" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Aggregation means computing summary statistics by group, such as mean pH per soil type.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="introduction-to-r-programming.html#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mean pH by soil type</span></span>
<span id="cb44-2"><a href="introduction-to-r-programming.html#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">aggregate</span>(ph <span class="sc">~</span> soil_type, <span class="at">data =</span> soil_data, <span class="at">FUN =</span> mean)</span>
<span id="cb44-3"><a href="introduction-to-r-programming.html#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="introduction-to-r-programming.html#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Multiple summary values by group (mean and standard deviation of pH by soil_type)</span></span>
<span id="cb44-5"><a href="introduction-to-r-programming.html#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="fu">aggregate</span>(</span>
<span id="cb44-6"><a href="introduction-to-r-programming.html#cb44-6" aria-hidden="true" tabindex="-1"></a>  ph <span class="sc">~</span> soil_type,</span>
<span id="cb44-7"><a href="introduction-to-r-programming.html#cb44-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> soil_data,</span>
<span id="cb44-8"><a href="introduction-to-r-programming.html#cb44-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">FUN =</span> <span class="cf">function</span>(x) <span class="fu">c</span>(<span class="at">mean =</span> <span class="fu">mean</span>(x), <span class="at">sd =</span> <span class="fu">sd</span>(x))</span>
<span id="cb44-9"><a href="introduction-to-r-programming.html#cb44-9" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<div class="warning-box">
<ul>
<li>When using <code>aggregate()</code>, make sure the grouping variable (here <code>soil_type</code>) is correctly imported as character or factor, and that the summarized variable (here <code>ph</code>) is numeric.</li>
</ul>
</div>
</div>
</div>
<div id="tidyverse-manipultation" class="section level2 hasAnchor" number="0.12">
<h2><span class="header-section-number">0.12</span> Data Manipulation with the Tidyverse<a href="introduction-to-r-programming.html#tidyverse-manipultation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>While <strong>base R</strong> is powerful, the <strong>tidyverse</strong> makes many common data tasks easier to write, read, and maintain—especially when working with real datasets. Its functions use a consistent “verb” style (e.g., <code>filter()</code>, <code>select()</code>, <code>mutate()</code>, <code>summarize()</code>), and the pipe operator (<code>%&gt;%</code> or <code>|&gt;</code>) lets you build clear, step-by-step workflows. This is particularly useful in soil data analysis, where you often need to clean, subset, join, and summarize data repeatedly.</p>
<p>The <code>{tidyverse}</code> is a collection of R packages designed for data science that share a common philosophy and syntax.
Key packages include:</p>
<ul>
<li><p><code>{dplyr}</code>: Data manipulation</p></li>
<li><p><code>{ggplot2}</code>: Data visualization</p></li>
<li><p><code>{tidyr}</code>: Data reshaping</p></li>
<li><p><code>{readr}</code>: Reading data</p></li>
<li><p><code>{tibble}</code>: Modern data frames</p></li>
</ul>
<div id="tidyverse-load" class="section level3 hasAnchor" number="0.12.1">
<h3><span class="header-section-number">0.12.1</span> Loading the Tidyverse<a href="introduction-to-r-programming.html#tidyverse-load" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When you load <code>{tidyverse}</code>, it automatically attaches a core set of tidyverse packages (such as <code>{dplyr}</code> and <code>{ggplot2}</code>) so you can use them right away.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="introduction-to-r-programming.html#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Install if not already installed</span></span>
<span id="cb45-2"><a href="introduction-to-r-programming.html#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>)</span>
<span id="cb45-3"><a href="introduction-to-r-programming.html#cb45-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-4"><a href="introduction-to-r-programming.html#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Load tidyverse</span></span>
<span id="cb45-5"><a href="introduction-to-r-programming.html#cb45-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
</div>
<div id="tidyverse-tibbles" class="section level3 hasAnchor" number="0.12.2">
<h3><span class="header-section-number">0.12.2</span> Tibbles: Modern Data Frames<a href="introduction-to-r-programming.html#tidyverse-tibbles" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A <strong>tibble</strong> is the tidyverse’s modern version of a data frame. It behaves like a regular data frame, but it prints in a cleaner way and is generally more user-friendly. For example, tibbles show only the first rows by default, keep long text from cluttering your console, and display column types so you can quickly confirm how R has interpreted your data. Tibbles also avoid some older base R behaviors (such as automatically converting text to factors in older R versions), which makes them a reliable default for data analysis workflows.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="introduction-to-r-programming.html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert data frame to tibble</span></span>
<span id="cb46-2"><a href="introduction-to-r-programming.html#cb46-2" aria-hidden="true" tabindex="-1"></a>soil_tbl <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(soil_data)</span>
<span id="cb46-3"><a href="introduction-to-r-programming.html#cb46-3" aria-hidden="true" tabindex="-1"></a>soil_tbl</span>
<span id="cb46-4"><a href="introduction-to-r-programming.html#cb46-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-5"><a href="introduction-to-r-programming.html#cb46-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create tibble directly</span></span>
<span id="cb46-6"><a href="introduction-to-r-programming.html#cb46-6" aria-hidden="true" tabindex="-1"></a>soil_tbl <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb46-7"><a href="introduction-to-r-programming.html#cb46-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">plot_id =</span> <span class="fu">c</span>(<span class="st">&quot;P001&quot;</span>, <span class="st">&quot;P002&quot;</span>, <span class="st">&quot;P003&quot;</span>),</span>
<span id="cb46-8"><a href="introduction-to-r-programming.html#cb46-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">ph =</span> <span class="fu">c</span>(<span class="fl">5.2</span>, <span class="fl">6.5</span>, <span class="fl">7.1</span>),</span>
<span id="cb46-9"><a href="introduction-to-r-programming.html#cb46-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">clay =</span> <span class="fu">c</span>(<span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">18</span>)</span>
<span id="cb46-10"><a href="introduction-to-r-programming.html#cb46-10" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div id="tidyverse-pipe" class="section level3 hasAnchor" number="0.12.3">
<h3><span class="header-section-number">0.12.3</span> The Pipe Operator: <code>%&gt;%</code><a href="introduction-to-r-programming.html#tidyverse-pipe" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The pipe operator <code>%&gt;%</code> (from <code>{magrittr}</code> package, loaded with <code>{tidyverse}</code>) helps you write code as a clear sequence of chained operations. Instead of nesting functions inside each other, you send (“pipe”) the output of one step into the next. This makes workflows easier to read and debug—especially when you are cleaning soil datasets where you often need to filter rows, select variables, create new columns, and then summarize or sort results.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="introduction-to-r-programming.html#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Without pipe (nested functions)</span></span>
<span id="cb47-2"><a href="introduction-to-r-programming.html#cb47-2" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">mean</span>(soil_data<span class="sc">$</span>ph), <span class="dv">2</span>)</span>
<span id="cb47-3"><a href="introduction-to-r-programming.html#cb47-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-4"><a href="introduction-to-r-programming.html#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="co"># With pipe (sequential operations)</span></span>
<span id="cb47-5"><a href="introduction-to-r-programming.html#cb47-5" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> soil_data<span class="sc">$</span>ph <span class="sc">%&gt;%</span></span>
<span id="cb47-6"><a href="introduction-to-r-programming.html#cb47-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mean</span>() <span class="sc">%&gt;%</span></span>
<span id="cb47-7"><a href="introduction-to-r-programming.html#cb47-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">2</span>)</span>
<span id="cb47-8"><a href="introduction-to-r-programming.html#cb47-8" aria-hidden="true" tabindex="-1"></a>result</span>
<span id="cb47-9"><a href="introduction-to-r-programming.html#cb47-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-10"><a href="introduction-to-r-programming.html#cb47-10" aria-hidden="true" tabindex="-1"></a><span class="co"># More complex example</span></span>
<span id="cb47-11"><a href="introduction-to-r-programming.html#cb47-11" aria-hidden="true" tabindex="-1"></a>soil_data <span class="sc">%&gt;%</span></span>
<span id="cb47-12"><a href="introduction-to-r-programming.html#cb47-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ph <span class="sc">&gt;</span> <span class="dv">6</span>) <span class="sc">%&gt;%</span></span>
<span id="cb47-13"><a href="introduction-to-r-programming.html#cb47-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(plot_id, ph, soil_type) <span class="sc">%&gt;%</span></span>
<span id="cb47-14"><a href="introduction-to-r-programming.html#cb47-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(ph))</span></code></pre></div>
<div class="highlights">
<p><strong>Key pipe benefits</strong>:</p>
<ul>
<li><p><em>Readable</em>: Code flows logically from left to right</p></li>
<li><p><em>Efficient</em>: No need for intermediate objects</p></li>
<li><p><em>Debuggable</em>: Easy to add/remove steps by commenting out lines</p></li>
<li><p><em>Natural</em>: Matches how we think about data transformations step-by-step</p></li>
</ul>
<p>-️ Use <code>Ctrl+Shift+M</code> (Windows) or <code>Cmd+Shift+M</code> (Mac) to insert the pipe operator quickly in RStudio!</p>
</div>
</div>
<div id="manipulation-dplyr" class="section level3 hasAnchor" number="0.12.4">
<h3><span class="header-section-number">0.12.4</span> Data Manipulation with <code>{dplyr}</code><a href="introduction-to-r-programming.html#manipulation-dplyr" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>{dplyr}</code> package provides a clear set of ‘data verbs’ for manipulating tabular data. Its syntax is designed to be readable: you describe what you want to do (filter rows, select columns, create variables, summarize results) rather than how to do it step by step. This makes <code>{dplyr}</code> especially useful for soil datasets, where you often need to subset observations, compute derived indicators (e.g., pH classes), and summarize results by soil type, horizon, land use, or sampling site.</p>
<div id="dplyr-select" class="section level4 hasAnchor" number="0.12.4.1">
<h4><span class="header-section-number">0.12.4.1</span> Selecting Columns<a href="introduction-to-r-programming.html#dplyr-select" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Use <code>select()</code> to choose the variables you need for analysis or reporting. This helps keep your workflow focused and reduces the chance of mistakes when working with wide datasets (many columns).</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="introduction-to-r-programming.html#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Select specific columns</span></span>
<span id="cb48-2"><a href="introduction-to-r-programming.html#cb48-2" aria-hidden="true" tabindex="-1"></a>soil_data <span class="sc">%&gt;%</span></span>
<span id="cb48-3"><a href="introduction-to-r-programming.html#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(plot_id, ph, clay_content)</span>
<span id="cb48-4"><a href="introduction-to-r-programming.html#cb48-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-5"><a href="introduction-to-r-programming.html#cb48-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Select range of columns</span></span>
<span id="cb48-6"><a href="introduction-to-r-programming.html#cb48-6" aria-hidden="true" tabindex="-1"></a>soil_data <span class="sc">%&gt;%</span></span>
<span id="cb48-7"><a href="introduction-to-r-programming.html#cb48-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(plot_id<span class="sc">:</span>ph)</span>
<span id="cb48-8"><a href="introduction-to-r-programming.html#cb48-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-9"><a href="introduction-to-r-programming.html#cb48-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove columns</span></span>
<span id="cb48-10"><a href="introduction-to-r-programming.html#cb48-10" aria-hidden="true" tabindex="-1"></a>soil_data <span class="sc">%&gt;%</span></span>
<span id="cb48-11"><a href="introduction-to-r-programming.html#cb48-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>latitude, <span class="sc">-</span>longitude)</span>
<span id="cb48-12"><a href="introduction-to-r-programming.html#cb48-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-13"><a href="introduction-to-r-programming.html#cb48-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Select columns matching pattern</span></span>
<span id="cb48-14"><a href="introduction-to-r-programming.html#cb48-14" aria-hidden="true" tabindex="-1"></a>soil_data <span class="sc">%&gt;%</span></span>
<span id="cb48-15"><a href="introduction-to-r-programming.html#cb48-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">contains</span>(<span class="st">&quot;content&quot;</span>))</span></code></pre></div>
</div>
<div id="dplyr-filter" class="section level4 hasAnchor" number="0.12.4.2">
<h4><span class="header-section-number">0.12.4.2</span> Filtering Rows<a href="introduction-to-r-programming.html#dplyr-filter" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Use <code>filter()</code> to keep only the rows that meet one or more conditions. This is commonly used to focus on samples within a range (e.g., pH &gt; 6) or to extract specific soil classes or land uses.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="introduction-to-r-programming.html#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter rows based on condition</span></span>
<span id="cb49-2"><a href="introduction-to-r-programming.html#cb49-2" aria-hidden="true" tabindex="-1"></a>soil_data <span class="sc">%&gt;%</span></span>
<span id="cb49-3"><a href="introduction-to-r-programming.html#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ph <span class="sc">&gt;</span> <span class="dv">6</span>)</span>
<span id="cb49-4"><a href="introduction-to-r-programming.html#cb49-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-5"><a href="introduction-to-r-programming.html#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Multiple conditions</span></span>
<span id="cb49-6"><a href="introduction-to-r-programming.html#cb49-6" aria-hidden="true" tabindex="-1"></a>soil_data <span class="sc">%&gt;%</span></span>
<span id="cb49-7"><a href="introduction-to-r-programming.html#cb49-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ph <span class="sc">&gt;</span> <span class="dv">6</span> <span class="sc">&amp;</span> clay_content <span class="sc">&gt;</span> <span class="dv">25</span>)</span>
<span id="cb49-8"><a href="introduction-to-r-programming.html#cb49-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-9"><a href="introduction-to-r-programming.html#cb49-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter with OR</span></span>
<span id="cb49-10"><a href="introduction-to-r-programming.html#cb49-10" aria-hidden="true" tabindex="-1"></a>soil_data <span class="sc">%&gt;%</span></span>
<span id="cb49-11"><a href="introduction-to-r-programming.html#cb49-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(soil_type <span class="sc">==</span> <span class="st">&quot;Acrisol&quot;</span> <span class="sc">|</span> soil_type <span class="sc">==</span> <span class="st">&quot;Ferralsol&quot;</span>)</span>
<span id="cb49-12"><a href="introduction-to-r-programming.html#cb49-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-13"><a href="introduction-to-r-programming.html#cb49-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Use %in% for multiple values</span></span>
<span id="cb49-14"><a href="introduction-to-r-programming.html#cb49-14" aria-hidden="true" tabindex="-1"></a>soil_data <span class="sc">%&gt;%</span></span>
<span id="cb49-15"><a href="introduction-to-r-programming.html#cb49-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(soil_type <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Acrisol&quot;</span>, <span class="st">&quot;Ferralsol&quot;</span>, <span class="st">&quot;Vertisol&quot;</span>))</span></code></pre></div>
</div>
</div>
<div id="dplyr-rename" class="section level3 hasAnchor" number="0.12.5">
<h3><span class="header-section-number">0.12.5</span> Renaming Columns with <code>rename()</code><a href="introduction-to-r-programming.html#dplyr-rename" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>rename()</code> changes column names while keeping all the data.
The syntax is <code>new_name = old_name</code>.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="introduction-to-r-programming.html#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename columns for clarity</span></span>
<span id="cb50-2"><a href="introduction-to-r-programming.html#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rename</span>(soil_data,</span>
<span id="cb50-3"><a href="introduction-to-r-programming.html#cb50-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">site_id =</span> site)</span>
<span id="cb50-4"><a href="introduction-to-r-programming.html#cb50-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-5"><a href="introduction-to-r-programming.html#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="co"># You can rename multiple columns at once</span></span>
<span id="cb50-6"><a href="introduction-to-r-programming.html#cb50-6" aria-hidden="true" tabindex="-1"></a>soil_data <span class="sc">%&gt;%</span></span>
<span id="cb50-7"><a href="introduction-to-r-programming.html#cb50-7" aria-hidden="true" tabindex="-1"></a> <span class="fu">rename</span>(</span>
<span id="cb50-8"><a href="introduction-to-r-programming.html#cb50-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">location =</span> site,</span>
<span id="cb50-9"><a href="introduction-to-r-programming.html#cb50-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">acidity =</span> pH,</span>
<span id="cb50-10"><a href="introduction-to-r-programming.html#cb50-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">carbon_content =</span> organic_carbon</span>
<span id="cb50-11"><a href="introduction-to-r-programming.html#cb50-11" aria-hidden="true" tabindex="-1"></a> )</span></code></pre></div>
<div id="dplyr-mutate" class="section level4 hasAnchor" number="0.12.5.1">
<h4><span class="header-section-number">0.12.5.1</span> Creating/Modifying Columns with <code>mutate()</code><a href="introduction-to-r-programming.html#dplyr-mutate" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Use <code>mutate()</code> to add new variables or update existing ones. This is where you typically compute derived soil indicators (classes, ratios, unit conversions) while keeping the original dataset intact.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="introduction-to-r-programming.html#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create new columns</span></span>
<span id="cb51-2"><a href="introduction-to-r-programming.html#cb51-2" aria-hidden="true" tabindex="-1"></a>soil_data <span class="sc">%&gt;%</span></span>
<span id="cb51-3"><a href="introduction-to-r-programming.html#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb51-4"><a href="introduction-to-r-programming.html#cb51-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">ph_class =</span> <span class="fu">ifelse</span>(ph <span class="sc">&gt;</span> <span class="dv">7</span>, <span class="st">&quot;Alkaline&quot;</span>, <span class="st">&quot;Acidic&quot;</span>),</span>
<span id="cb51-5"><a href="introduction-to-r-programming.html#cb51-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">clay_percent =</span> clay_content <span class="sc">/</span> <span class="dv">10</span></span>
<span id="cb51-6"><a href="introduction-to-r-programming.html#cb51-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb51-7"><a href="introduction-to-r-programming.html#cb51-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-8"><a href="introduction-to-r-programming.html#cb51-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Modify existing columns</span></span>
<span id="cb51-9"><a href="introduction-to-r-programming.html#cb51-9" aria-hidden="true" tabindex="-1"></a>soil_data <span class="sc">%&gt;%</span></span>
<span id="cb51-10"><a href="introduction-to-r-programming.html#cb51-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb51-11"><a href="introduction-to-r-programming.html#cb51-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">ph =</span> <span class="fu">round</span>(ph, <span class="dv">1</span>),</span>
<span id="cb51-12"><a href="introduction-to-r-programming.html#cb51-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">soil_type =</span> <span class="fu">toupper</span>(soil_type)</span>
<span id="cb51-13"><a href="introduction-to-r-programming.html#cb51-13" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
</div>
<div id="dplyr-arrange" class="section level4 hasAnchor" number="0.12.5.2">
<h4><span class="header-section-number">0.12.5.2</span> Arranging (Sorting) Data<a href="introduction-to-r-programming.html#dplyr-arrange" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Use <code>arrange()</code> to sort rows by one or more column values. This is useful for quickly identifying extreme values (e.g., the highest pH) and for ordering results in tables and reports.
Use <code>arrange(desc())</code> for descending order.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="introduction-to-r-programming.html#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort ascending</span></span>
<span id="cb52-2"><a href="introduction-to-r-programming.html#cb52-2" aria-hidden="true" tabindex="-1"></a>soil_data <span class="sc">%&gt;%</span></span>
<span id="cb52-3"><a href="introduction-to-r-programming.html#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(ph)</span>
<span id="cb52-4"><a href="introduction-to-r-programming.html#cb52-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-5"><a href="introduction-to-r-programming.html#cb52-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort descending</span></span>
<span id="cb52-6"><a href="introduction-to-r-programming.html#cb52-6" aria-hidden="true" tabindex="-1"></a>soil_data <span class="sc">%&gt;%</span></span>
<span id="cb52-7"><a href="introduction-to-r-programming.html#cb52-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(ph))</span>
<span id="cb52-8"><a href="introduction-to-r-programming.html#cb52-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-9"><a href="introduction-to-r-programming.html#cb52-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Multiple sort keys</span></span>
<span id="cb52-10"><a href="introduction-to-r-programming.html#cb52-10" aria-hidden="true" tabindex="-1"></a>soil_data <span class="sc">%&gt;%</span></span>
<span id="cb52-11"><a href="introduction-to-r-programming.html#cb52-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(soil_type, <span class="fu">desc</span>(clay_content))</span></code></pre></div>
</div>
</div>
<div id="dplyr-group" class="section level3 hasAnchor" number="0.12.6">
<h3><span class="header-section-number">0.12.6</span> Grouping and Summarizing Data by columns<a href="introduction-to-r-programming.html#dplyr-group" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>group_by()</code> creates invisible groups in your data using common values on one or more columns, while <code>summarise()</code> calculates compute summary statistics.
Combined with <code>group_by()</code>, it becomes a powerful way to calculate metrics by soil type, site, land use, horizon, or any other grouping variable.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="introduction-to-r-programming.html#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create example dataset</span></span>
<span id="cb53-2"><a href="introduction-to-r-programming.html#cb53-2" aria-hidden="true" tabindex="-1"></a>soil_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb53-3"><a href="introduction-to-r-programming.html#cb53-3" aria-hidden="true" tabindex="-1"></a><span class="at">site =</span> <span class="fu">c</span>(<span class="st">&quot;Forest_A&quot;</span>, <span class="st">&quot;Forest_B&quot;</span>, <span class="st">&quot;Grassland_A&quot;</span>, <span class="st">&quot;Grassland_B&quot;</span>, <span class="st">&quot;Urban_A&quot;</span>, <span class="st">&quot;Urban_B&quot;</span>),</span>
<span id="cb53-4"><a href="introduction-to-r-programming.html#cb53-4" aria-hidden="true" tabindex="-1"></a><span class="at">ecosystem =</span> <span class="fu">c</span>(<span class="st">&quot;Forest&quot;</span>, <span class="st">&quot;Forest&quot;</span>, <span class="st">&quot;Grassland&quot;</span>, <span class="st">&quot;Grassland&quot;</span>, <span class="st">&quot;Urban&quot;</span>, <span class="st">&quot;Urban&quot;</span>),</span>
<span id="cb53-5"><a href="introduction-to-r-programming.html#cb53-5" aria-hidden="true" tabindex="-1"></a><span class="at">pH =</span> <span class="fu">c</span>(<span class="fl">6.2</span>, <span class="fl">6.8</span>, <span class="fl">7.1</span>, <span class="fl">6.9</span>, <span class="fl">5.8</span>, <span class="fl">6.0</span>),</span>
<span id="cb53-6"><a href="introduction-to-r-programming.html#cb53-6" aria-hidden="true" tabindex="-1"></a><span class="at">organic_carbon =</span> <span class="fu">c</span>(<span class="fl">3.2</span>, <span class="fl">2.8</span>, <span class="fl">2.1</span>, <span class="fl">2.4</span>, <span class="fl">1.5</span>, <span class="fl">1.8</span>)</span>
<span id="cb53-7"><a href="introduction-to-r-programming.html#cb53-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb53-8"><a href="introduction-to-r-programming.html#cb53-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-9"><a href="introduction-to-r-programming.html#cb53-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Summarize soil properties</span></span>
<span id="cb53-10"><a href="introduction-to-r-programming.html#cb53-10" aria-hidden="true" tabindex="-1"></a>soil_data <span class="sc">%&gt;%</span></span>
<span id="cb53-11"><a href="introduction-to-r-programming.html#cb53-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb53-12"><a href="introduction-to-r-programming.html#cb53-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_ph =</span> <span class="fu">mean</span>(pH),</span>
<span id="cb53-13"><a href="introduction-to-r-programming.html#cb53-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_ph =</span> <span class="fu">sd</span>(pH),</span>
<span id="cb53-14"><a href="introduction-to-r-programming.html#cb53-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_soc =</span> <span class="fu">min</span>(organic_carbon),</span>
<span id="cb53-15"><a href="introduction-to-r-programming.html#cb53-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_soc =</span> <span class="fu">max</span>(organic_carbon),</span>
<span id="cb53-16"><a href="introduction-to-r-programming.html#cb53-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_samples =</span> <span class="fu">n</span>()</span>
<span id="cb53-17"><a href="introduction-to-r-programming.html#cb53-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb53-18"><a href="introduction-to-r-programming.html#cb53-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-19"><a href="introduction-to-r-programming.html#cb53-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by and summarize</span></span>
<span id="cb53-20"><a href="introduction-to-r-programming.html#cb53-20" aria-hidden="true" tabindex="-1"></a>soil_data <span class="sc">%&gt;%</span></span>
<span id="cb53-21"><a href="introduction-to-r-programming.html#cb53-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(ecosystem) <span class="sc">%&gt;%</span></span>
<span id="cb53-22"><a href="introduction-to-r-programming.html#cb53-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb53-23"><a href="introduction-to-r-programming.html#cb53-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_ph =</span> <span class="fu">mean</span>(pH),</span>
<span id="cb53-24"><a href="introduction-to-r-programming.html#cb53-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_soc =</span> <span class="fu">mean</span>(organic_carbon), <span class="co"># Average organic carbon</span></span>
<span id="cb53-25"><a href="introduction-to-r-programming.html#cb53-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">count =</span> <span class="fu">n</span>(),  </span>
<span id="cb53-26"><a href="introduction-to-r-programming.html#cb53-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">.groups =</span> <span class="st">&quot;drop&quot;</span>            <span class="co"># Remove grouping</span></span>
<span id="cb53-27"><a href="introduction-to-r-programming.html#cb53-27" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>An alternative function to create quick grouped summaries is <code>count()</code></p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="introduction-to-r-programming.html#cb54-1" aria-hidden="true" tabindex="-1"></a>soil_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb54-2"><a href="introduction-to-r-programming.html#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="at">site =</span> <span class="fu">c</span>(<span class="st">&quot;Forest_A&quot;</span>, <span class="st">&quot;Forest_B&quot;</span>, <span class="st">&quot;Grassland_A&quot;</span>, <span class="st">&quot;Grassland_B&quot;</span>, <span class="st">&quot;Urban_A&quot;</span>, <span class="st">&quot;Urban_B&quot;</span>),</span>
<span id="cb54-3"><a href="introduction-to-r-programming.html#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="at">ecosystem =</span> <span class="fu">c</span>(<span class="st">&quot;Forest&quot;</span>, <span class="st">&quot;Forest&quot;</span>, <span class="st">&quot;Grassland&quot;</span>, <span class="st">&quot;Grassland&quot;</span>, <span class="st">&quot;Urban&quot;</span>, <span class="st">&quot;Urban&quot;</span>),</span>
<span id="cb54-4"><a href="introduction-to-r-programming.html#cb54-4" aria-hidden="true" tabindex="-1"></a><span class="at">pH =</span> <span class="fu">c</span>(<span class="fl">6.2</span>, <span class="fl">6.8</span>, <span class="fl">7.1</span>, <span class="fl">6.9</span>, <span class="fl">5.8</span>, <span class="fl">6.0</span>),</span>
<span id="cb54-5"><a href="introduction-to-r-programming.html#cb54-5" aria-hidden="true" tabindex="-1"></a><span class="at">organic_carbon =</span> <span class="fu">c</span>(<span class="fl">3.2</span>, <span class="fl">2.8</span>, <span class="fl">2.1</span>, <span class="fl">2.4</span>, <span class="fl">1.5</span>, <span class="fl">1.8</span>)</span>
<span id="cb54-6"><a href="introduction-to-r-programming.html#cb54-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb54-7"><a href="introduction-to-r-programming.html#cb54-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Count observations by group</span></span>
<span id="cb54-8"><a href="introduction-to-r-programming.html#cb54-8" aria-hidden="true" tabindex="-1"></a><span class="fu">count</span>(soil_data, ecosystem)</span>
<span id="cb54-9"><a href="introduction-to-r-programming.html#cb54-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-10"><a href="introduction-to-r-programming.html#cb54-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Count by multiple groups</span></span>
<span id="cb54-11"><a href="introduction-to-r-programming.html#cb54-11" aria-hidden="true" tabindex="-1"></a><span class="fu">count</span>(soil_data, ecosystem, site)</span>
<span id="cb54-12"><a href="introduction-to-r-programming.html#cb54-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-13"><a href="introduction-to-r-programming.html#cb54-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Count with weights of a column (sum of carbon instead of count)</span></span>
<span id="cb54-14"><a href="introduction-to-r-programming.html#cb54-14" aria-hidden="true" tabindex="-1"></a>soil_data <span class="sc">%&gt;%</span></span>
<span id="cb54-15"><a href="introduction-to-r-programming.html#cb54-15" aria-hidden="true" tabindex="-1"></a> <span class="fu">count</span>(ecosystem, <span class="at">wt =</span> organic_carbon, <span class="at">name =</span> <span class="st">&quot;total SOC&quot;</span>)</span></code></pre></div>
</div>
</div>
<div id="dplyr-join" class="section level2 hasAnchor" number="0.13">
<h2><span class="header-section-number">0.13</span> Combining Data Frames<a href="introduction-to-r-programming.html#dplyr-join" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In soil research, information often comes from multiple sources. For example, one dataset may contain chemical properties (pH, organic carbon), another may include physical measurements (bulk density, nutrients), and a third may describe site conditions (land use, elevation, geology). To get a complete picture, we often need to <strong>combine datasets</strong> into a single table where all attributes are linked.</p>
<p>This is usually done by matching tables using a shared identifier (a <strong>key</strong>), such as <code>site_id</code>, <code>plot_id</code>, or <code>sample_id</code>. In R, <code>{dplyr}</code> (part of <code>{tidyverse}</code>) provides clear functions to perform these joins.</p>
<div id="understand-joins" class="section level3 hasAnchor" number="0.13.1">
<h3><span class="header-section-number">0.13.1</span> Understanding Joins<a href="introduction-to-r-programming.html#understand-joins" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A <strong>join</strong> combines two data frames by matching values in one or more key columns. Each join type differs mainly in which rows (keys) are kept in the result.</p>
<div id="join-types" class="section level4 hasAnchor" number="0.13.1.1">
<h4><span class="header-section-number">0.13.1.1</span> Join types<a href="introduction-to-r-programming.html#join-types" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<table>
<colgroup>
<col width="31%" />
<col width="31%" />
<col width="36%" />
</colgroup>
<thead>
<tr class="header">
<th>Join</th>
<th>Keeps which keys?</th>
<th>Typical use</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>left_join(x, y)</code></td>
<td>All keys in <strong>x</strong></td>
<td>Add attributes to a main table, keeping all records in <code>x</code></td>
</tr>
<tr class="even">
<td><code>right_join(x, y)</code></td>
<td>All keys in <strong>y</strong></td>
<td>Same as left join, but keeping all records in <code>y</code></td>
</tr>
<tr class="odd">
<td><code>inner_join(x, y)</code></td>
<td>Keys present in <strong>both</strong> x and y</td>
<td>Keep only records with matches in both tables</td>
</tr>
<tr class="even">
<td><code>full_join(x, y)</code></td>
<td>Keys present in <strong>either</strong> x or y</td>
<td>Keep everything; unmatched fields become<code>NA</code></td>
</tr>
</tbody>
</table>
<div class="warning-box">
<p><strong>Before joining, always check:</strong></p>
<ul>
<li><p>The key columns use the <strong>same format and values</strong> in both tables (e.g., <code>"A"</code> is not the same as <code>"a"</code>, and extra spaces can cause mismatches).</p></li>
<li><p>If key columns have <strong>different names</strong>, map them explicitly, e.g.
<code>left_join(x, y, by = c("key_in_x" = "key_in_y"))</code></p></li>
<li><p>Keys are <strong>unique in at least one table</strong>. If both tables contain repeated keys, the join can create duplicate rows (a many-to-many join).</p></li>
</ul>
</div>
</div>
<div id="dplyr-join-example" class="section level4 hasAnchor" number="0.13.1.2">
<h4><span class="header-section-number">0.13.1.2</span> Example datasets and join operations<a href="introduction-to-r-programming.html#dplyr-join-example" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="introduction-to-r-programming.html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Soil data example</span></span>
<span id="cb55-2"><a href="introduction-to-r-programming.html#cb55-2" aria-hidden="true" tabindex="-1"></a>soil_basic <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb55-3"><a href="introduction-to-r-programming.html#cb55-3" aria-hidden="true" tabindex="-1"></a> <span class="at">site_id =</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;D&quot;</span>),</span>
<span id="cb55-4"><a href="introduction-to-r-programming.html#cb55-4" aria-hidden="true" tabindex="-1"></a> <span class="at">pH =</span> <span class="fu">c</span>(<span class="fl">6.2</span>, <span class="fl">6.8</span>, <span class="fl">7.1</span>, <span class="fl">6.9</span>),</span>
<span id="cb55-5"><a href="introduction-to-r-programming.html#cb55-5" aria-hidden="true" tabindex="-1"></a> <span class="at">organic_carbon =</span> <span class="fu">c</span>(<span class="fl">3.2</span>, <span class="fl">2.8</span>, <span class="fl">2.1</span>, <span class="fl">2.4</span>)</span>
<span id="cb55-6"><a href="introduction-to-r-programming.html#cb55-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-7"><a href="introduction-to-r-programming.html#cb55-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Additional measurements (note: includes data on site E, but not on site A)</span></span>
<span id="cb55-8"><a href="introduction-to-r-programming.html#cb55-8" aria-hidden="true" tabindex="-1"></a>nutrients <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb55-9"><a href="introduction-to-r-programming.html#cb55-9" aria-hidden="true" tabindex="-1"></a> <span class="at">site_id =</span> <span class="fu">c</span>(<span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;D&quot;</span>, <span class="st">&quot;E&quot;</span>),</span>
<span id="cb55-10"><a href="introduction-to-r-programming.html#cb55-10" aria-hidden="true" tabindex="-1"></a> <span class="at">phosphorus =</span> <span class="fu">c</span>(<span class="fl">0.15</span>, <span class="fl">0.12</span>, <span class="fl">0.18</span>, <span class="fl">0.14</span>),</span>
<span id="cb55-11"><a href="introduction-to-r-programming.html#cb55-11" aria-hidden="true" tabindex="-1"></a> <span class="at">potassium =</span> <span class="fu">c</span>(<span class="fl">0.8</span>, <span class="fl">0.9</span>, <span class="fl">0.7</span>, <span class="fl">0.6</span>)</span>
<span id="cb55-12"><a href="introduction-to-r-programming.html#cb55-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-13"><a href="introduction-to-r-programming.html#cb55-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Site information</span></span>
<span id="cb55-14"><a href="introduction-to-r-programming.html#cb55-14" aria-hidden="true" tabindex="-1"></a>site_info <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb55-15"><a href="introduction-to-r-programming.html#cb55-15" aria-hidden="true" tabindex="-1"></a> <span class="at">site_id =</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;D&quot;</span>),</span>
<span id="cb55-16"><a href="introduction-to-r-programming.html#cb55-16" aria-hidden="true" tabindex="-1"></a> <span class="at">ecosystem =</span> <span class="fu">c</span>(<span class="st">&quot;Forest&quot;</span>, <span class="st">&quot;Forest&quot;</span>, <span class="st">&quot;Grassland&quot;</span>, <span class="st">&quot;Grassland&quot;</span>),</span>
<span id="cb55-17"><a href="introduction-to-r-programming.html#cb55-17" aria-hidden="true" tabindex="-1"></a> <span class="at">elevation =</span> <span class="fu">c</span>(<span class="dv">450</span>, <span class="dv">520</span>, <span class="dv">380</span>, <span class="dv">420</span>)</span>
<span id="cb55-18"><a href="introduction-to-r-programming.html#cb55-18" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-19"><a href="introduction-to-r-programming.html#cb55-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-20"><a href="introduction-to-r-programming.html#cb55-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Join examples (same keys, different rules for which rows are kept)</span></span>
<span id="cb55-21"><a href="introduction-to-r-programming.html#cb55-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-22"><a href="introduction-to-r-programming.html#cb55-22" aria-hidden="true" tabindex="-1"></a><span class="co"># 1) `left_join()`: Keep all rows from soil_basic</span></span>
<span id="cb55-23"><a href="introduction-to-r-programming.html#cb55-23" aria-hidden="true" tabindex="-1"></a><span class="fu">left_join</span>(soil_basic, nutrients, <span class="at">by =</span> <span class="st">&quot;site_id&quot;</span>)</span>
<span id="cb55-24"><a href="introduction-to-r-programming.html#cb55-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-25"><a href="introduction-to-r-programming.html#cb55-25" aria-hidden="true" tabindex="-1"></a><span class="co"># 2) `right_join()`: Keep all rows from nutrients</span></span>
<span id="cb55-26"><a href="introduction-to-r-programming.html#cb55-26" aria-hidden="true" tabindex="-1"></a><span class="fu">right_join</span>(soil_basic, nutrients, <span class="at">by =</span> <span class="st">&quot;site_id&quot;</span>)</span>
<span id="cb55-27"><a href="introduction-to-r-programming.html#cb55-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-28"><a href="introduction-to-r-programming.html#cb55-28" aria-hidden="true" tabindex="-1"></a><span class="co"># 3) `inner_join()`: Keep only rows that exist in both tables</span></span>
<span id="cb55-29"><a href="introduction-to-r-programming.html#cb55-29" aria-hidden="true" tabindex="-1"></a><span class="fu">inner_join</span>(soil_basic, nutrients, <span class="at">by =</span> <span class="st">&quot;site_id&quot;</span>)</span>
<span id="cb55-30"><a href="introduction-to-r-programming.html#cb55-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-31"><a href="introduction-to-r-programming.html#cb55-31" aria-hidden="true" tabindex="-1"></a><span class="co"># 4) `full_join()`: Keep all rows from both tables (missing values become NA)</span></span>
<span id="cb55-32"><a href="introduction-to-r-programming.html#cb55-32" aria-hidden="true" tabindex="-1"></a><span class="fu">full_join</span>(soil_basic, nutrients, <span class="at">by =</span> <span class="st">&quot;site_id&quot;</span>)</span>
<span id="cb55-33"><a href="introduction-to-r-programming.html#cb55-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-34"><a href="introduction-to-r-programming.html#cb55-34" aria-hidden="true" tabindex="-1"></a><span class="do">## Joining more than two tables sequentially</span></span>
<span id="cb55-35"><a href="introduction-to-r-programming.html#cb55-35" aria-hidden="true" tabindex="-1"></a>soil_basic <span class="sc">%&gt;%</span></span>
<span id="cb55-36"><a href="introduction-to-r-programming.html#cb55-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(nutrients, <span class="at">by =</span> <span class="st">&quot;site_id&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb55-37"><a href="introduction-to-r-programming.html#cb55-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(site_info, <span class="at">by =</span> <span class="st">&quot;site_id&quot;</span>)</span></code></pre></div>
</div>
</div>
<div id="dplyr-bind_rows" class="section level3 hasAnchor" number="0.13.2">
<h3><span class="header-section-number">0.13.2</span> Stacking Data with <code>bind_rows()</code><a href="introduction-to-r-programming.html#dplyr-bind_rows" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Sometimes datasets have the <strong>same columns</strong> but represent different campaigns (e.g., seasons, years, field visits). In that case, you combine them <strong>vertically</strong> (one under the other) using bind_rows():</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="introduction-to-r-programming.html#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Data from different time periods</span></span>
<span id="cb56-2"><a href="introduction-to-r-programming.html#cb56-2" aria-hidden="true" tabindex="-1"></a>spring_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb56-3"><a href="introduction-to-r-programming.html#cb56-3" aria-hidden="true" tabindex="-1"></a> <span class="at">site =</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>),</span>
<span id="cb56-4"><a href="introduction-to-r-programming.html#cb56-4" aria-hidden="true" tabindex="-1"></a> <span class="at">season =</span> <span class="st">&quot;Spring&quot;</span>,</span>
<span id="cb56-5"><a href="introduction-to-r-programming.html#cb56-5" aria-hidden="true" tabindex="-1"></a> <span class="at">pH =</span> <span class="fu">c</span>(<span class="fl">6.1</span>, <span class="fl">6.7</span>),</span>
<span id="cb56-6"><a href="introduction-to-r-programming.html#cb56-6" aria-hidden="true" tabindex="-1"></a> <span class="at">temperature =</span> <span class="fu">c</span>(<span class="fl">12.5</span>, <span class="fl">11.8</span>)</span>
<span id="cb56-7"><a href="introduction-to-r-programming.html#cb56-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb56-8"><a href="introduction-to-r-programming.html#cb56-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-9"><a href="introduction-to-r-programming.html#cb56-9" aria-hidden="true" tabindex="-1"></a>summer_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb56-10"><a href="introduction-to-r-programming.html#cb56-10" aria-hidden="true" tabindex="-1"></a> <span class="at">site =</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>),</span>
<span id="cb56-11"><a href="introduction-to-r-programming.html#cb56-11" aria-hidden="true" tabindex="-1"></a> <span class="at">season =</span> <span class="st">&quot;Summer&quot;</span>, </span>
<span id="cb56-12"><a href="introduction-to-r-programming.html#cb56-12" aria-hidden="true" tabindex="-1"></a> <span class="at">pH =</span> <span class="fu">c</span>(<span class="fl">6.3</span>, <span class="fl">6.9</span>),</span>
<span id="cb56-13"><a href="introduction-to-r-programming.html#cb56-13" aria-hidden="true" tabindex="-1"></a> <span class="at">temperature =</span> <span class="fu">c</span>(<span class="fl">18.2</span>, <span class="fl">17.5</span>)</span>
<span id="cb56-14"><a href="introduction-to-r-programming.html#cb56-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb56-15"><a href="introduction-to-r-programming.html#cb56-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-16"><a href="introduction-to-r-programming.html#cb56-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the datasets</span></span>
<span id="cb56-17"><a href="introduction-to-r-programming.html#cb56-17" aria-hidden="true" tabindex="-1"></a><span class="fu">bind_rows</span>(spring_data, summer_data)</span></code></pre></div>
<div class="warning-box">
<p><strong>Caution:</strong></p>
<ul>
<li><p><code>bind_rows()</code> works best when column names and types match.</p></li>
<li><p>If one dataset has extra/missing columns, <code>bind_rows()</code> will create the missing columns and fill them with <code>NA</code>.</p></li>
</ul>
</div>
</div>
</div>
<div id="NA" class="section level2 hasAnchor" number="0.14">
<h2><span class="header-section-number">0.14</span> Missing Data<a href="introduction-to-r-programming.html#NA" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Soil datasets often contain missing values.
Missing values in R are stored as <code>NA</code>. Many functions will return <code>NA</code> if missing values are present, unless you specify how to handle them (e.g., na.rm = TRUE).
Before running summaries, models, or maps, it is important to identify where values are missing and decide how to handle them.</p>
<div id="identify-NA" class="section level3 hasAnchor" number="0.14.1">
<h3><span class="header-section-number">0.14.1</span> Identifying Missing Data<a href="introduction-to-r-programming.html#identify-NA" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="introduction-to-r-programming.html#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create data with missing values</span></span>
<span id="cb57-2"><a href="introduction-to-r-programming.html#cb57-2" aria-hidden="true" tabindex="-1"></a>soil_data_na <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb57-3"><a href="introduction-to-r-programming.html#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">plot =</span> <span class="fu">c</span>(<span class="st">&quot;P001&quot;</span>, <span class="st">&quot;P002&quot;</span>, <span class="st">&quot;P003&quot;</span>, <span class="st">&quot;P004&quot;</span>),</span>
<span id="cb57-4"><a href="introduction-to-r-programming.html#cb57-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ph =</span> <span class="fu">c</span>(<span class="fl">5.2</span>, <span class="cn">NA</span>, <span class="fl">7.1</span>, <span class="fl">6.5</span>),</span>
<span id="cb57-5"><a href="introduction-to-r-programming.html#cb57-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">clay =</span> <span class="fu">c</span>(<span class="dv">25</span>, <span class="dv">30</span>, <span class="cn">NA</span>, <span class="dv">35</span>)</span>
<span id="cb57-6"><a href="introduction-to-r-programming.html#cb57-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb57-7"><a href="introduction-to-r-programming.html#cb57-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-8"><a href="introduction-to-r-programming.html#cb57-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for missing values</span></span>
<span id="cb57-9"><a href="introduction-to-r-programming.html#cb57-9" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(soil_data_na)</span>
<span id="cb57-10"><a href="introduction-to-r-programming.html#cb57-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-11"><a href="introduction-to-r-programming.html#cb57-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Count missing values per column</span></span>
<span id="cb57-12"><a href="introduction-to-r-programming.html#cb57-12" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(soil_data_na))</span>
<span id="cb57-13"><a href="introduction-to-r-programming.html#cb57-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-14"><a href="introduction-to-r-programming.html#cb57-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Identify complete cases (rows with no missing values)</span></span>
<span id="cb57-15"><a href="introduction-to-r-programming.html#cb57-15" aria-hidden="true" tabindex="-1"></a><span class="fu">complete.cases</span>(soil_data_na)</span>
<span id="cb57-16"><a href="introduction-to-r-programming.html#cb57-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-17"><a href="introduction-to-r-programming.html#cb57-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract complete cases</span></span>
<span id="cb57-18"><a href="introduction-to-r-programming.html#cb57-18" aria-hidden="true" tabindex="-1"></a>soil_complete <span class="ot">&lt;-</span> soil_data_na[<span class="fu">complete.cases</span>(soil_data_na), ]</span>
<span id="cb57-19"><a href="introduction-to-r-programming.html#cb57-19" aria-hidden="true" tabindex="-1"></a>soil_complete</span></code></pre></div>
</div>
<div id="handle-NA" class="section level3 hasAnchor" number="0.14.2">
<h3><span class="header-section-number">0.14.2</span> Handling Missing Data<a href="introduction-to-r-programming.html#handle-NA" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>How you handle missing data depends on the context. Sometimes you can remove incomplete records; other times you may replace missing values with a reasonable estimate or a fixed value. An example of handling missing data is provided in the <strong>Data Preparation</strong> section.</p>
<p>In base R, <code>is.na()</code> helps you identify missing values, and <code>na.omit()</code> can be used to remove rows with missing data. Many functions (such as <code>mean()</code>) also include arguments that control how missing values are handled—for example, <code>na.rm = TRUE</code> tells R to ignore <code>NA</code> values when computing the result.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="introduction-to-r-programming.html#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove rows with any missing values (base R)</span></span>
<span id="cb58-2"><a href="introduction-to-r-programming.html#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="fu">na.omit</span>(soil_data_na)</span>
<span id="cb58-3"><a href="introduction-to-r-programming.html#cb58-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-4"><a href="introduction-to-r-programming.html#cb58-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove rows where a specific column is missing (keep rows with non-missing pH)</span></span>
<span id="cb58-5"><a href="introduction-to-r-programming.html#cb58-5" aria-hidden="true" tabindex="-1"></a>soil_data_na[<span class="sc">!</span><span class="fu">is.na</span>(soil_data_na<span class="sc">$</span>ph), ]</span>
<span id="cb58-6"><a href="introduction-to-r-programming.html#cb58-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-7"><a href="introduction-to-r-programming.html#cb58-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace missing pH values with the mean pH (na.rm = TRUE ignores NA in the mean)</span></span>
<span id="cb58-8"><a href="introduction-to-r-programming.html#cb58-8" aria-hidden="true" tabindex="-1"></a>soil_data_na<span class="sc">$</span>ph[<span class="fu">is.na</span>(soil_data_na<span class="sc">$</span>ph)] <span class="ot">&lt;-</span> <span class="fu">mean</span>(soil_data_na<span class="sc">$</span>ph, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb58-9"><a href="introduction-to-r-programming.html#cb58-9" aria-hidden="true" tabindex="-1"></a>soil_data_na</span></code></pre></div>
<p>If you are using the tidyverse, <code>{tidyr}</code> provides convenient helpers for handling missing data. For example, <code>drop_na()</code> removes rows with missing values (either across all columns or in selected columns), and r<code>eplace_na()</code> fills missing values with specified replacements.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="introduction-to-r-programming.html#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove all rows with any NA</span></span>
<span id="cb59-2"><a href="introduction-to-r-programming.html#cb59-2" aria-hidden="true" tabindex="-1"></a>soil_data_na <span class="sc">%&gt;%</span></span>
<span id="cb59-3"><a href="introduction-to-r-programming.html#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>()</span>
<span id="cb59-4"><a href="introduction-to-r-programming.html#cb59-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-5"><a href="introduction-to-r-programming.html#cb59-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove rows where ph is NA</span></span>
<span id="cb59-6"><a href="introduction-to-r-programming.html#cb59-6" aria-hidden="true" tabindex="-1"></a>soil_data_na <span class="sc">%&gt;%</span></span>
<span id="cb59-7"><a href="introduction-to-r-programming.html#cb59-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(ph)</span>
<span id="cb59-8"><a href="introduction-to-r-programming.html#cb59-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-9"><a href="introduction-to-r-programming.html#cb59-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace NA values with specified values</span></span>
<span id="cb59-10"><a href="introduction-to-r-programming.html#cb59-10" aria-hidden="true" tabindex="-1"></a>soil_data_na <span class="sc">%&gt;%</span></span>
<span id="cb59-11"><a href="introduction-to-r-programming.html#cb59-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">replace_na</span>(<span class="fu">list</span>(<span class="at">ph =</span> <span class="fl">6.0</span>, <span class="at">clay =</span> <span class="dv">30</span>))</span></code></pre></div>
<div class="warning-box">
<p><strong>Caution:</strong></p>
<ul>
<li><p><code>na.omit()</code> removes <strong>any row</strong> that contains at least one <code>NA</code> in <strong>any column</strong>. This can unintentionally drop many observations—especially in wide datasets.</p></li>
<li><p><code>drop_na()</code> (like <code>na.omit()</code>) can remove many rows if your dataset has missing values in multiple columns.</p></li>
<li><p>Replacing missing values (imputation) can change your results and should be done carefully.</p></li>
<li><p>Always document the method you used and consider whether missingness might be informative (e.g., values missing due to sampling or lab issues).</p></li>
</ul>
</div>
</div>
</div>
<div id="pivoting" class="section level2 hasAnchor" number="0.15">
<h2><span class="header-section-number">0.15</span> Data Reshaping with <code>{tidyr}</code> package: Pivoting<a href="introduction-to-r-programming.html#pivoting" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Soil datasets are often stored in different formats depending on how they were collected or produced. The <code>{tidyr}</code> package helps you reshape data—changing its layout without changing the information. This is especially useful when preparing data for plotting, reporting, modeling, or joining with other tables.</p>
<div id="wide-long" class="section level4 hasAnchor" number="0.15.0.1">
<h4><span class="header-section-number">0.15.0.1</span> Wide vs Long Data Format<a href="introduction-to-r-programming.html#wide-long" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li><p><strong>Wide format</strong>: each variable has its own column (common in spreadsheets and summary tables).</p></li>
<li><p><strong>Long format</strong>: values are stored in a single column, with one or more columns describing what the values represent (common for tidy workflows and <code>ggplot2()</code>).</p></li>
</ul>
</div>
<div id="pivot-long" class="section level4 hasAnchor" number="0.15.0.2">
<h4><span class="header-section-number">0.15.0.2</span> <code>pivot_longer()</code>: Wide to Long<a href="introduction-to-r-programming.html#pivot-long" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Use <code>pivot_longer()</code> to turn several measurement columns (e.g., pH, carbon, nitrogen) into a tidy key–value structure.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="introduction-to-r-programming.html#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr) <span class="co"># for piping %&gt;%</span></span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:kableExtra&#39;:
## 
##     group_rows</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="introduction-to-r-programming.html#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr) <span class="co"># for pivoting</span></span>
<span id="cb65-2"><a href="introduction-to-r-programming.html#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Wide format data</span></span>
<span id="cb65-3"><a href="introduction-to-r-programming.html#cb65-3" aria-hidden="true" tabindex="-1"></a>wide_soil <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb65-4"><a href="introduction-to-r-programming.html#cb65-4" aria-hidden="true" tabindex="-1"></a> <span class="at">site =</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>),</span>
<span id="cb65-5"><a href="introduction-to-r-programming.html#cb65-5" aria-hidden="true" tabindex="-1"></a> <span class="at">ecosystem =</span> <span class="fu">c</span>(<span class="st">&quot;Forest&quot;</span>, <span class="st">&quot;Grassland&quot;</span>, <span class="st">&quot;Urban&quot;</span>),</span>
<span id="cb65-6"><a href="introduction-to-r-programming.html#cb65-6" aria-hidden="true" tabindex="-1"></a> <span class="at">pH =</span> <span class="fu">c</span>(<span class="fl">6.2</span>, <span class="fl">7.1</span>, <span class="fl">5.8</span>),</span>
<span id="cb65-7"><a href="introduction-to-r-programming.html#cb65-7" aria-hidden="true" tabindex="-1"></a> <span class="at">carbon =</span> <span class="fu">c</span>(<span class="fl">3.2</span>, <span class="fl">2.1</span>, <span class="fl">1.5</span>),</span>
<span id="cb65-8"><a href="introduction-to-r-programming.html#cb65-8" aria-hidden="true" tabindex="-1"></a> <span class="at">nitrogen =</span> <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.18</span>, <span class="fl">0.12</span>)</span>
<span id="cb65-9"><a href="introduction-to-r-programming.html#cb65-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-10"><a href="introduction-to-r-programming.html#cb65-10" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(wide_soil)</span></code></pre></div>
<pre><code>##   site ecosystem  pH carbon nitrogen
## 1    A    Forest 6.2    3.2     0.25
## 2    B Grassland 7.1    2.1     0.18
## 3    C     Urban 5.8    1.5     0.12</code></pre>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="introduction-to-r-programming.html#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to long format</span></span>
<span id="cb67-2"><a href="introduction-to-r-programming.html#cb67-2" aria-hidden="true" tabindex="-1"></a>long_soil <span class="ot">&lt;-</span> wide_soil <span class="sc">%&gt;%</span></span>
<span id="cb67-3"><a href="introduction-to-r-programming.html#cb67-3" aria-hidden="true" tabindex="-1"></a> <span class="fu">pivot_longer</span>(</span>
<span id="cb67-4"><a href="introduction-to-r-programming.html#cb67-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">cols =</span> <span class="fu">c</span>(pH, carbon, nitrogen),     <span class="co"># Columns to pivot</span></span>
<span id="cb67-5"><a href="introduction-to-r-programming.html#cb67-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">names_to =</span> <span class="st">&quot;measurement_type&quot;</span>,      <span class="co"># Name for the variable column</span></span>
<span id="cb67-6"><a href="introduction-to-r-programming.html#cb67-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">values_to =</span> <span class="st">&quot;value&quot;</span>           <span class="co"># Name for the values column</span></span>
<span id="cb67-7"><a href="introduction-to-r-programming.html#cb67-7" aria-hidden="true" tabindex="-1"></a> )</span>
<span id="cb67-8"><a href="introduction-to-r-programming.html#cb67-8" aria-hidden="true" tabindex="-1"></a>long_soil</span></code></pre></div>
<pre><code>## # A tibble: 9 × 4
##   site  ecosystem measurement_type value
##   &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;            &lt;dbl&gt;
## 1 A     Forest    pH                6.2 
## 2 A     Forest    carbon            3.2 
## 3 A     Forest    nitrogen          0.25
## 4 B     Grassland pH                7.1 
## 5 B     Grassland carbon            2.1 
## 6 B     Grassland nitrogen          0.18
## 7 C     Urban     pH                5.8 
## 8 C     Urban     carbon            1.5 
## 9 C     Urban     nitrogen          0.12</code></pre>
<div class="highlights">
<ul>
<li><p>Many tidyverse workflows (especially with <code>{ggplot2}</code>) work best with long data.</p></li>
<li><p>Functions such as <code>slab()</code> (from the <strong>Algorithms for Quantitative Pedology</strong> package -<code>{aqp}</code>) often return horizon or slice summaries in a long format (e.g., one row per profile × depth-slice). If you need a “one row per horizon” table for reporting or modeling, you may need to reshape that output to wide using <code>pivot_wider()</code>.</p></li>
<li><p>In many relational databases such as <strong>PostgreSQL</strong>, measurements are often stored in a <strong>long (tidy) format</strong>, where each row represents one observation and additional columns describe <em>what</em> was measured (e.g., <code>property</code>, <code>method</code>, <code>unit</code>) and <em>the result</em> (e.g., <code>value</code>). This structure is flexible: you can store many different variables in a single table and add new measurement types over time without changing the table schema.</p></li>
<li><p>This is also the approach used in the <strong>GloSIS</strong> relational database: soil analytical results are typically stored as <strong>one record per sample/observation × property</strong>, rather than as many property columns in a single wide table. For this reason, reshaping data between <strong>wide</strong> (common in spreadsheets) and <strong>long</strong> (common in databases) formats is a frequent step when preparing data for insertion into GloSIS or extracting data for analysis.</p></li>
</ul>
</div>
</div>
<div id="pivot-wider" class="section level4 hasAnchor" number="0.15.0.3">
<h4><span class="header-section-number">0.15.0.3</span> <code>pivot_wider()</code>: Long to Wide<a href="introduction-to-r-programming.html#pivot-wider" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Use <code>pivot_wider()</code> to spread a variable column back into multiple columns. This is helpful when you want a compact table for reporting or when a model expects predictors in separate columns.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="introduction-to-r-programming.html#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert back to wide format</span></span>
<span id="cb69-2"><a href="introduction-to-r-programming.html#cb69-2" aria-hidden="true" tabindex="-1"></a>long_soil <span class="sc">%&gt;%</span></span>
<span id="cb69-3"><a href="introduction-to-r-programming.html#cb69-3" aria-hidden="true" tabindex="-1"></a> <span class="fu">pivot_wider</span>(</span>
<span id="cb69-4"><a href="introduction-to-r-programming.html#cb69-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">names_from =</span> measurement_type, <span class="co"># Column containing variable names</span></span>
<span id="cb69-5"><a href="introduction-to-r-programming.html#cb69-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">values_from =</span> value            <span class="co"># Column containing values</span></span>
<span id="cb69-6"><a href="introduction-to-r-programming.html#cb69-6" aria-hidden="true" tabindex="-1"></a> )</span></code></pre></div>
<pre><code>## # A tibble: 3 × 5
##   site  ecosystem    pH carbon nitrogen
##   &lt;chr&gt; &lt;chr&gt;     &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;
## 1 A     Forest      6.2    3.2     0.25
## 2 B     Grassland   7.1    2.1     0.18
## 3 C     Urban       5.8    1.5     0.12</code></pre>
</div>
<div id="pivot-table" class="section level4 hasAnchor" number="0.15.0.4">
<h4><span class="header-section-number">0.15.0.4</span> Advanced Pivoting: Multiple Measurements per Site (Replicates)<a href="introduction-to-r-programming.html#pivot-table" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>In real datasets, you may have repeated measurements (e.g., replicate samples). In that case, keep replicate identifiers as separate columns and pivot the measurement names into columns.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="introduction-to-r-programming.html#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co"># More complex examples with multiple measurements per site</span></span>
<span id="cb71-2"><a href="introduction-to-r-programming.html#cb71-2" aria-hidden="true" tabindex="-1"></a>field_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb71-3"><a href="introduction-to-r-programming.html#cb71-3" aria-hidden="true" tabindex="-1"></a> <span class="at">site =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;Forest&quot;</span>, <span class="st">&quot;Grassland&quot;</span>), <span class="at">each =</span> <span class="dv">6</span>),</span>
<span id="cb71-4"><a href="introduction-to-r-programming.html#cb71-4" aria-hidden="true" tabindex="-1"></a> <span class="at">measurement =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;pH&quot;</span>, <span class="st">&quot;carbon&quot;</span>, <span class="st">&quot;nitrogen&quot;</span>), <span class="dv">4</span>),</span>
<span id="cb71-5"><a href="introduction-to-r-programming.html#cb71-5" aria-hidden="true" tabindex="-1"></a> <span class="at">replicate =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;R1&quot;</span>, <span class="st">&quot;R2&quot;</span>), <span class="dv">6</span>),</span>
<span id="cb71-6"><a href="introduction-to-r-programming.html#cb71-6" aria-hidden="true" tabindex="-1"></a> <span class="at">value =</span> <span class="fu">c</span>(<span class="fl">6.2</span>, <span class="fl">6.1</span>, <span class="fl">3.2</span>, <span class="fl">3.0</span>, <span class="fl">0.25</span>, <span class="fl">0.23</span>, <span class="fl">7.1</span>, <span class="fl">7.0</span>, <span class="fl">2.1</span>, <span class="fl">2.3</span>, <span class="fl">0.18</span>, <span class="fl">0.19</span>)</span>
<span id="cb71-7"><a href="introduction-to-r-programming.html#cb71-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb71-8"><a href="introduction-to-r-programming.html#cb71-8" aria-hidden="true" tabindex="-1"></a>field_data</span></code></pre></div>
<pre><code>##         site measurement replicate value
## 1     Forest          pH        R1  6.20
## 2     Forest      carbon        R2  6.10
## 3     Forest    nitrogen        R1  3.20
## 4     Forest          pH        R2  3.00
## 5     Forest      carbon        R1  0.25
## 6     Forest    nitrogen        R2  0.23
## 7  Grassland          pH        R1  7.10
## 8  Grassland      carbon        R2  7.00
## 9  Grassland    nitrogen        R1  2.10
## 10 Grassland          pH        R2  2.30
## 11 Grassland      carbon        R1  0.18
## 12 Grassland    nitrogen        R2  0.19</code></pre>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="introduction-to-r-programming.html#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pivot to have measurements as columns</span></span>
<span id="cb73-2"><a href="introduction-to-r-programming.html#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;Pivoted data:&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Pivoted data:&quot;</code></pre>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="introduction-to-r-programming.html#cb75-1" aria-hidden="true" tabindex="-1"></a>field_data <span class="sc">%&gt;%</span></span>
<span id="cb75-2"><a href="introduction-to-r-programming.html#cb75-2" aria-hidden="true" tabindex="-1"></a> <span class="fu">pivot_wider</span>(</span>
<span id="cb75-3"><a href="introduction-to-r-programming.html#cb75-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">names_from =</span> measurement,</span>
<span id="cb75-4"><a href="introduction-to-r-programming.html#cb75-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">values_from =</span> value</span>
<span id="cb75-5"><a href="introduction-to-r-programming.html#cb75-5" aria-hidden="true" tabindex="-1"></a> )</span></code></pre></div>
<pre><code>## # A tibble: 4 × 5
##   site      replicate    pH carbon nitrogen
##   &lt;chr&gt;     &lt;chr&gt;     &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;
## 1 Forest    R1          6.2   0.25     3.2 
## 2 Forest    R2          3     6.1      0.23
## 3 Grassland R1          7.1   0.18     2.1 
## 4 Grassland R2          2.3   7        0.19</code></pre>
<div class=".highlights">
<ul>
<li>If your long dataset contains more than one value for the same combination of identifiers (e.g., site + replicate + measurement), pivot_wider() may create list-columns or produce an error.
In those cases, summarize duplicates first, or use values_fn, for example:
<code>pivot_wider(..., values_fn = mean)</code></li>
</ul>
</div>
</div>
</div>
<div id="dl-data" class="section level2 hasAnchor" number="0.16">
<h2><span class="header-section-number">0.16</span> Handling Below Detection Limit Data<a href="introduction-to-r-programming.html#dl-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In soil laboratory datasets, some results are reported as below the detection (or reporting) limit, for example <code>&lt;0.05</code>. When imported into R, these values often cause the entire column to be read as character. A common practical approach for basic summaries is to convert these entries to a numeric value equal to half the detection limit (DL/2), while keeping the original raw values for traceability.</p>
<p><em>Example: Converting “&lt;DL” to DL/2</em></p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="introduction-to-r-programming.html#cb77-1" aria-hidden="true" tabindex="-1"></a>soil_lab <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb77-2"><a href="introduction-to-r-programming.html#cb77-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">plot_id =</span> <span class="fu">c</span>(<span class="st">&quot;P001&quot;</span>, <span class="st">&quot;P002&quot;</span>, <span class="st">&quot;P003&quot;</span>, <span class="st">&quot;P004&quot;</span>),</span>
<span id="cb77-3"><a href="introduction-to-r-programming.html#cb77-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">no3_mgkg_raw =</span> <span class="fu">c</span>(<span class="st">&quot;0.12&quot;</span>, <span class="st">&quot;&lt;0.05&quot;</span>, <span class="st">&quot;0.31&quot;</span>, <span class="st">&quot;&lt;0.05&quot;</span>),</span>
<span id="cb77-4"><a href="introduction-to-r-programming.html#cb77-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb77-5"><a href="introduction-to-r-programming.html#cb77-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb77-6"><a href="introduction-to-r-programming.html#cb77-6" aria-hidden="true" tabindex="-1"></a>soil_lab</span>
<span id="cb77-7"><a href="introduction-to-r-programming.html#cb77-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-8"><a href="introduction-to-r-programming.html#cb77-8" aria-hidden="true" tabindex="-1"></a>soil_lab <span class="ot">&lt;-</span> soil_lab <span class="sc">%&gt;%</span></span>
<span id="cb77-9"><a href="introduction-to-r-programming.html#cb77-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb77-10"><a href="introduction-to-r-programming.html#cb77-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">censored =</span> <span class="fu">str_detect</span>(no3_mgkg_raw, <span class="st">&quot;^</span><span class="sc">\\</span><span class="st">s*&lt;&quot;</span>),</span>
<span id="cb77-11"><a href="introduction-to-r-programming.html#cb77-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">dl =</span> <span class="fu">if_else</span>(censored,</span>
<span id="cb77-12"><a href="introduction-to-r-programming.html#cb77-12" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">as.numeric</span>(<span class="fu">str_remove</span>(no3_mgkg_raw, <span class="st">&quot;^</span><span class="sc">\\</span><span class="st">s*&lt;</span><span class="sc">\\</span><span class="st">s*&quot;</span>)),</span>
<span id="cb77-13"><a href="introduction-to-r-programming.html#cb77-13" aria-hidden="true" tabindex="-1"></a>                 <span class="cn">NA_real_</span>),</span>
<span id="cb77-14"><a href="introduction-to-r-programming.html#cb77-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">no3_mgkg =</span> <span class="fu">if_else</span>(censored, dl <span class="sc">/</span> <span class="dv">2</span>, <span class="fu">as.numeric</span>(no3_mgkg_raw))</span>
<span id="cb77-15"><a href="introduction-to-r-programming.html#cb77-15" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb77-16"><a href="introduction-to-r-programming.html#cb77-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-17"><a href="introduction-to-r-programming.html#cb77-17" aria-hidden="true" tabindex="-1"></a>soil_lab</span></code></pre></div>
<div class="warning-box">
<p><strong>Caution:</strong></p>
<ul>
<li>Replacing BDL values with DL/2 is a simple convention, but it can bias results when many values are censored. Always report the detection limit and the percentage of BDL values.</li>
</ul>
</div>
<div class="highlights">
<p><strong>Other approaches for BDL data:</strong></p>
<ul>
<li><p><em>DL (or 0) substitution:</em> simple sensitivity checks (compare results using 0, DL/2, and DL).</p></li>
<li><p><em>Censored-data methods (recommended for inference):</em></p>
<ul>
<li><em>Kaplan–Meier (KM)</em> (e.g., with the <code>{NADA}</code> package): estimates summary statistics without assuming substituted values by treating BDL results as left-censored.</li>
<li>*ROS (Regression on Order Statistics)** (e.g., with the <code>{NADA}</code> package): commonly used for environmental data and often a good default when there are multiple detection limits.</li>
</ul></li>
<li><p><em>Censored regression (e.g., Tobit):</em> useful for modeling relationships while accounting for censoring.</p></li>
</ul>
</div>
</div>
<div id="soil-data" class="section level2 hasAnchor" number="0.17">
<h2><span class="header-section-number">0.17</span> Working with Soil Data<a href="introduction-to-r-programming.html#soil-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Soil data analysis usually starts with importing data, making sure it was read correctly, and then doing a few basic cleaning and selection steps before any modeling or mapping. In this section, you will learn how to set your R environment (manage file paths and your working directory), load the packages you need, import soil datasets from CSV and Excel files, and explore and manipulate the imported data to prepare it for further analyses.</p>
<div id="set-directory" class="section level3 hasAnchor" number="0.17.1">
<h3><span class="header-section-number">0.17.1</span> Setting Working Directory<a href="introduction-to-r-programming.html#set-directory" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <em>working directory</em> is the folder where R looks for input files (by default) and where it saves output files unless you specify a different location. Any <em>relative file path</em> you use (e.g., <code>"data/soil_data.csv"</code>) is interpreted relative to the working directory.</p>
<p>It is good practice to set the working directory at the beginning of a script.</p>
<p>You can set the working directory manually with <code>setwd()</code>, which takes the target folder path as a character string.
RStudio also provides a menu option: <code>Session → Set Working Directory</code>.</p>
<p>You can always check the current working directory with <code>getwd()</code>, which returns the path of the folder where R is currently operating.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="introduction-to-r-programming.html#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check current working directory</span></span>
<span id="cb78-2"><a href="introduction-to-r-programming.html#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span>
<span id="cb78-3"><a href="introduction-to-r-programming.html#cb78-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-4"><a href="introduction-to-r-programming.html#cb78-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Set new working directory</span></span>
<span id="cb78-5"><a href="introduction-to-r-programming.html#cb78-5" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;C:/Users/YourName/Documents/YourSoilProject&quot;</span>)</span>
<span id="cb78-6"><a href="introduction-to-r-programming.html#cb78-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-7"><a href="introduction-to-r-programming.html#cb78-7" aria-hidden="true" tabindex="-1"></a><span class="co"># On Mac/Linux</span></span>
<span id="cb78-8"><a href="introduction-to-r-programming.html#cb78-8" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;/Users/YourName/Documents/YourSoilProject&quot;</span>)</span></code></pre></div>
<p>If you are using RStudio, an option is to set the working directory to the location of the active script:</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="introduction-to-r-programming.html#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set working directory to script location (recommended)</span></span>
<span id="cb79-2"><a href="introduction-to-r-programming.html#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="fu">dirname</span>(rstudioapi<span class="sc">::</span><span class="fu">getActiveDocumentContext</span>()<span class="sc">$</span>path))</span></code></pre></div>
<div class="highlights">
<p><strong>Best practice:</strong> Use an RStudio Project (<code>.Rproj</code>) to avoid hard-coded paths.</p>
<ul>
<li><p><code>File → New Project</code> creates an <code>.Rproj</code> file.</p></li>
<li><p>Keep your data inside the project folder and use relative paths (e.g., <code>"data/KSSL_data.csv"</code>).</p></li>
<li><p>If you prefer, you can also set the working directory to the active script location:</p>
<p><code>setwd(dirname(rstudioapi::getActiveDocumentContext()$path))</code></p></li>
</ul>
<div class="warning-box">
<ul>
<li>If you are not using RStudio (or rstudioapi is not installed), the script-location method will not work. In that case, use an RStudio Project or set the working directory manually.</li>
</ul>
</div>
</div>
</div>
<div id="load-packages" class="section level3 hasAnchor" number="0.17.2">
<h3><span class="header-section-number">0.17.2</span> Load packages<a href="introduction-to-r-programming.html#load-packages" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="introduction-to-r-programming.html#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)           <span class="co"># Read Excel files</span></span>
<span id="cb80-2"><a href="introduction-to-r-programming.html#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)        <span class="co"># Data manipulation and visualization</span></span></code></pre></div>
</div>
<div id="import-files" class="section level3 hasAnchor" number="0.17.3">
<h3><span class="header-section-number">0.17.3</span> Importing Data from Files<a href="introduction-to-r-programming.html#import-files" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Most soil science projects use data from external sources (field surveys, lab results, sensors, or remote sensing). These datasets are commonly stored as CSV or Excel files, but they can also come from databases, spatial formats (e.g., GeoPackages/shapefiles), or web APIs. R provides tools to import, clean, and analyze these data. In this tutorial, we focus on CSV (<code>.csv</code>) and Excel (<code>.xlsx</code>) because they are the most widely used formats in soil science workflows.</p>
<div id="read-csv" class="section level4 hasAnchor" number="0.17.3.1">
<h4><span class="header-section-number">0.17.3.1</span> Reading CSV Files<a href="introduction-to-r-programming.html#read-csv" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>CSV (comma-separated values) and plain text (<code>.txt</code>) files are widely used for exchanging tabular data. In base R, you can import them with <code>read.csv()</code> or the more general <code>read.table()</code> (both from <code>{utils}</code>).
These functions assumes the separator is a comma (,) and by default use <code>header = TRUE</code>, meaning the first row is treated as column names.
The output is a <code>data.frame</code>.
For larger files, you can use <code>read_csv()</code>, from <code>{readr}</code> which is usually faster and often does a better job of parsing column types.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="introduction-to-r-programming.html#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read CSV file</span></span>
<span id="cb81-2"><a href="introduction-to-r-programming.html#cb81-2" aria-hidden="true" tabindex="-1"></a>soil_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;path/to/soil_data.csv&quot;</span>)</span>
<span id="cb81-3"><a href="introduction-to-r-programming.html#cb81-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-4"><a href="introduction-to-r-programming.html#cb81-4" aria-hidden="true" tabindex="-1"></a><span class="co"># View structure</span></span>
<span id="cb81-5"><a href="introduction-to-r-programming.html#cb81-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(soil_data)</span>
<span id="cb81-6"><a href="introduction-to-r-programming.html#cb81-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-7"><a href="introduction-to-r-programming.html#cb81-7" aria-hidden="true" tabindex="-1"></a><span class="co"># View first rows</span></span>
<span id="cb81-8"><a href="introduction-to-r-programming.html#cb81-8" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(soil_data)</span>
<span id="cb81-9"><a href="introduction-to-r-programming.html#cb81-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-10"><a href="introduction-to-r-programming.html#cb81-10" aria-hidden="true" tabindex="-1"></a><span class="co"># If CSV uses different separator (semicolon, tab)</span></span>
<span id="cb81-11"><a href="introduction-to-r-programming.html#cb81-11" aria-hidden="true" tabindex="-1"></a>soil_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;path/to/file.csv&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;;&quot;</span>)</span>
<span id="cb81-12"><a href="introduction-to-r-programming.html#cb81-12" aria-hidden="true" tabindex="-1"></a>soil_data <span class="ot">&lt;-</span> <span class="fu">read.delim</span>(<span class="st">&quot;path/to/file.txt&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;</span><span class="sc">\t</span><span class="st">&quot;</span>)</span></code></pre></div>
<p>If you are using an RStudio Project and the dataset is stored inside your project, you can use a relative path. For example, for the Kansas soil profiles dataset in this project:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="introduction-to-r-programming.html#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read CSV file</span></span>
<span id="cb82-2"><a href="introduction-to-r-programming.html#cb82-2" aria-hidden="true" tabindex="-1"></a>soil_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;01_data/module1/KSSL_data.csv&quot;</span>)</span>
<span id="cb82-3"><a href="introduction-to-r-programming.html#cb82-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-4"><a href="introduction-to-r-programming.html#cb82-4" aria-hidden="true" tabindex="-1"></a><span class="co"># View structure</span></span>
<span id="cb82-5"><a href="introduction-to-r-programming.html#cb82-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(soil_data)</span>
<span id="cb82-6"><a href="introduction-to-r-programming.html#cb82-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-7"><a href="introduction-to-r-programming.html#cb82-7" aria-hidden="true" tabindex="-1"></a><span class="co"># View first rows</span></span>
<span id="cb82-8"><a href="introduction-to-r-programming.html#cb82-8" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(soil_data)</span></code></pre></div>
<div class="highlights">
<p>When possible, prefer project-relative paths like <code>"01_data/module1/KSSL_data.csv"</code>.
They are easier to read and less likely to break if you reorganize folders.</p>
</div>
</div>
<div id="read-excel" class="section level4 hasAnchor" number="0.17.3.2">
<h4><span class="header-section-number">0.17.3.2</span> Reading Excel Files<a href="introduction-to-r-programming.html#read-excel" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>To read Excel files, use <code>read_excel()</code> from the <code>{readxl}</code> package:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="introduction-to-r-programming.html#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read Excel file</span></span>
<span id="cb83-2"><a href="introduction-to-r-programming.html#cb83-2" aria-hidden="true" tabindex="-1"></a>soil_data <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;01_data/module1/KSSL_data.xlsx&quot;</span>, <span class="at">sheet =</span> <span class="dv">1</span>) </span>
<span id="cb83-3"><a href="introduction-to-r-programming.html#cb83-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-4"><a href="introduction-to-r-programming.html#cb83-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Or read a specific sheet by name</span></span>
<span id="cb83-5"><a href="introduction-to-r-programming.html#cb83-5" aria-hidden="true" tabindex="-1"></a>soil_data <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;01_data/module1/KSSL_data.xlsx&quot;</span>, <span class="at">sheet =</span> <span class="st">&quot;SoilData&quot;</span>)</span></code></pre></div>
</div>
</div>
<div id="data-exploration" class="section level3 hasAnchor" number="0.17.4">
<h3><span class="header-section-number">0.17.4</span> Exploring the Data<a href="introduction-to-r-programming.html#data-exploration" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>After importing, always confirm the structure, column names, and data types before analysis.
R provides several built-in functions to help you inspect the structure, preview the values, and summarize the dataset quickly.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="introduction-to-r-programming.html#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(soil_data)        <span class="co"># Structure + column types</span></span>
<span id="cb84-2"><a href="introduction-to-r-programming.html#cb84-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(soil_data)    <span class="co"># Quick summaries for each column</span></span>
<span id="cb84-3"><a href="introduction-to-r-programming.html#cb84-3" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(soil_data)      <span class="co"># Column names</span></span>
<span id="cb84-4"><a href="introduction-to-r-programming.html#cb84-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-5"><a href="introduction-to-r-programming.html#cb84-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(soil_data)       <span class="co"># First rows</span></span>
<span id="cb84-6"><a href="introduction-to-r-programming.html#cb84-6" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(soil_data)       <span class="co"># Last rows</span></span>
<span id="cb84-7"><a href="introduction-to-r-programming.html#cb84-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-8"><a href="introduction-to-r-programming.html#cb84-8" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(soil_data) <span class="co"># opens a spreadsheet-style viewer in RStudio</span></span></code></pre></div>
<div class="warning-box">
<p><strong>Caution:</strong></p>
<ul>
<li><p>Imported columns are sometimes read with the wrong type (e.g., numbers stored as text).</p></li>
<li><p>The <code>str()</code> function is especially useful when you’re not sure how R is interpreting your variables for example, whether a column is being read as text (character) or as a categorical variable (factor).</p></li>
<li><p>Check types with <code>str()</code> and convert when needed using <code>as.numeric()</code>, <code>as.character()</code>, or <code>as.Date()</code>.</p></li>
</ul>
</div>
</div>
</div>
<div id="references-m1" class="section level2 hasAnchor" number="0.18">
<h2><span class="header-section-number">0.18</span> References<a href="introduction-to-r-programming.html#references-m1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li><p>Brus, D.J.(2022). Spatial Sampling with R, CRC Press, New York. <a href="https://dickbrus.github.io/SpatialSamplingwithR/" class="uri">https://dickbrus.github.io/SpatialSamplingwithR/</a></p></li>
<li><p>Grolemund, G., &amp; Wickham, H. (2017). R for Data Science. O’Reilly Media.</p></li>
<li><p>Hengl, T., &amp; MacMillan, R. A. (2019). Predictive Soil Mapping with R. Zenodo. <a href="https://doi.org/10.5281/zenodo.2561035" class="uri">https://doi.org/10.5281/zenodo.2561035</a></p></li>
<li><p>Pebesma, E.; Bivand, R. (2023). Spatial Data Science: With Applications in R (1st ed.). 314 pages. Chapman and Hall/CRC, Boca Raton. <a href="https://doi.org/10.1201/9780429459016" class="uri">https://doi.org/10.1201/9780429459016</a></p></li>
<li><p>Soil Survey Staff (2025). Statistics for Soil Survey. <a href="https://ncss-tech.github.io/stats_for_soil_example/" class="uri">https://ncss-tech.github.io/stats_for_soil_example/</a></p></li>
<li><p>Spatial Data Science with R and ‘terra’ (2025). <a href="https://rspatial.org/" class="uri">https://rspatial.org/</a></p></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="presentation-and-basics.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-preparation-for-digital-soil-mapping-in-r.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": null,
    "text": null
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": {},
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "subsection"
  },
  "fig_caption": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
